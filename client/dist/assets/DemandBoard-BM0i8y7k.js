import{c as De,a as Tn,r as S,g as ss,b as ar,R as $,d as as,j as i,e as is,f as ls,I as L,B as K,C as Rr,h as Or,i as Br,k as cs,D as ot,l as us,m as st,n as at,o as it,p as lt,q as Tr,s as ds,t as ps,u as fs,v as gs,w as Lt}from"./index-DESoNwQK.js";import{r as ms,i as hs}from"./tiny-invariant-DQBIkdlb.js";import{B as Lr}from"./badge-BZPWyFCa.js";import{T as ct}from"./textarea-1YYYT-yv.js";import{T as bs,a as vs,b as de,c as pe}from"./tabs-OU8pq1yq.js";import{P as xs}from"./plus-DdIgbnXm.js";import{C as Ln}from"./circle-check-CAZPiYe6.js";import{T as ys}from"./trash-2-LwTOdgcj.js";const Ss=De("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Ds=De("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);const Mn=De("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const Ns=De("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);const Cs=De("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const Is=De("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);const ws=De("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);function We(e){"@babel/helpers - typeof";return We=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},We(e)}function js(e,t){if(We(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(We(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Es(e){var t=js(e,"string");return We(t)=="symbol"?t:t+""}function Ps(e,t,r){return(t=Es(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mr(Object(r),!0).forEach(function(n){Ps(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Fr=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),Gr=function(){return Math.random().toString(36).substring(7).split("").join(".")},kr={INIT:"@@redux/INIT"+Gr(),REPLACE:"@@redux/REPLACE"+Gr()};function As(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function $n(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(J(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(J(1));return r($n)(e,t)}if(typeof e!="function")throw new Error(J(2));var o=e,s=t,a=[],l=a,c=!1;function d(){l===a&&(l=a.slice())}function f(){if(c)throw new Error(J(3));return s}function u(b){if(typeof b!="function")throw new Error(J(4));if(c)throw new Error(J(5));var v=!0;return d(),l.push(b),function(){if(v){if(c)throw new Error(J(6));v=!1,d();var I=l.indexOf(b);l.splice(I,1),a=null}}}function p(b){if(!As(b))throw new Error(J(7));if(typeof b.type>"u")throw new Error(J(8));if(c)throw new Error(J(9));try{c=!0,s=o(s,b)}finally{c=!1}for(var v=a=l,C=0;C<v.length;C++){var I=v[C];I()}return b}function m(b){if(typeof b!="function")throw new Error(J(10));o=b,p({type:kr.REPLACE})}function h(){var b,v=u;return b={subscribe:function(I){if(typeof I!="object"||I===null)throw new Error(J(11));function w(){I.next&&I.next(f())}w();var j=v(w);return{unsubscribe:j}}},b[Fr]=function(){return this},b}return p({type:kr.INIT}),n={dispatch:p,subscribe:u,getState:f,replaceReducer:m},n[Fr]=h,n}function _r(e,t){return function(){return t(e.apply(this,arguments))}}function Wr(e,t){if(typeof e=="function")return _r(e,t);if(typeof e!="object"||e===null)throw new Error(J(16));var r={};for(var n in e){var o=e[n];typeof o=="function"&&(r[n]=_r(o,t))}return r}function Fn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,o){return function(){return n(o.apply(void 0,arguments))}})}function Rs(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var o=n.apply(void 0,arguments),s=function(){throw new Error(J(15))},a={getState:o.getState,dispatch:function(){return s.apply(void 0,arguments)}},l=t.map(function(c){return c(a)});return s=Fn.apply(void 0,l)(o.dispatch),$r($r({},o),{},{dispatch:s})}}}var Mt={exports:{}},$t={};var Ur;function Os(){if(Ur)return $t;Ur=1;var e=Tn();function t(u,p){return u===p&&(u!==0||1/u===1/p)||u!==u&&p!==p}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,o=e.useEffect,s=e.useLayoutEffect,a=e.useDebugValue;function l(u,p){var m=p(),h=n({inst:{value:m,getSnapshot:p}}),b=h[0].inst,v=h[1];return s(function(){b.value=m,b.getSnapshot=p,c(b)&&v({inst:b})},[u,m,p]),o(function(){return c(b)&&v({inst:b}),u(function(){c(b)&&v({inst:b})})},[u]),a(m),m}function c(u){var p=u.getSnapshot;u=u.value;try{var m=p();return!r(u,m)}catch{return!0}}function d(u,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return $t.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,$t}var Vr;function Gn(){return Vr||(Vr=1,Mt.exports=Os()),Mt.exports}var Bs=Gn(),Ft={exports:{}},Gt={};var Hr;function Ts(){if(Hr)return Gt;Hr=1;var e=Tn(),t=Gn();function r(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:r,o=t.useSyncExternalStore,s=e.useRef,a=e.useEffect,l=e.useMemo,c=e.useDebugValue;return Gt.useSyncExternalStoreWithSelector=function(d,f,u,p,m){var h=s(null);if(h.current===null){var b={hasValue:!1,value:null};h.current=b}else b=h.current;h=l(function(){function C(E){if(!I){if(I=!0,w=E,E=p(E),m!==void 0&&b.hasValue){var R=b.value;if(m(R,E))return j=R}return j=E}if(R=j,n(w,E))return R;var O=p(E);return m!==void 0&&m(R,O)?(w=E,R):(w=E,j=O)}var I=!1,w,j,y=u===void 0?null:u;return[function(){return C(f())},y===null?void 0:function(){return C(y())}]},[f,u,p,m]);var v=o(d,h[0],h[1]);return a(function(){b.hasValue=!0,b.value=v},[v]),c(v),v},Gt}var qr;function Ls(){return qr||(qr=1,Ft.exports=Ts()),Ft.exports}Ls();function Ms(e){e()}let kn=Ms;const $s=e=>kn=e,Fs=()=>kn,zr=Symbol.for("react-redux-context"),Yr=typeof globalThis<"u"?globalThis:{};function Gs(){var e;if(!S.createContext)return{};const t=(e=Yr[zr])!=null?e:Yr[zr]=new Map;let r=t.get(S.createContext);return r||(r=S.createContext(null),t.set(S.createContext,r)),r}const _n=Gs(),ks=()=>{throw new Error("uSES not initialized!")};function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fe.apply(null,arguments)}function Wn(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kt={exports:{}},T={};var Kr;function _s(){if(Kr)return T;Kr=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,o=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,d=e?Symbol.for("react.concurrent_mode"):60111,f=e?Symbol.for("react.forward_ref"):60112,u=e?Symbol.for("react.suspense"):60113,p=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,h=e?Symbol.for("react.lazy"):60116,b=e?Symbol.for("react.block"):60121,v=e?Symbol.for("react.fundamental"):60117,C=e?Symbol.for("react.responder"):60118,I=e?Symbol.for("react.scope"):60119;function w(y){if(typeof y=="object"&&y!==null){var E=y.$$typeof;switch(E){case t:switch(y=y.type,y){case c:case d:case n:case s:case o:case u:return y;default:switch(y=y&&y.$$typeof,y){case l:case f:case h:case m:case a:return y;default:return E}}case r:return E}}}function j(y){return w(y)===d}return T.AsyncMode=c,T.ConcurrentMode=d,T.ContextConsumer=l,T.ContextProvider=a,T.Element=t,T.ForwardRef=f,T.Fragment=n,T.Lazy=h,T.Memo=m,T.Portal=r,T.Profiler=s,T.StrictMode=o,T.Suspense=u,T.isAsyncMode=function(y){return j(y)||w(y)===c},T.isConcurrentMode=j,T.isContextConsumer=function(y){return w(y)===l},T.isContextProvider=function(y){return w(y)===a},T.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},T.isForwardRef=function(y){return w(y)===f},T.isFragment=function(y){return w(y)===n},T.isLazy=function(y){return w(y)===h},T.isMemo=function(y){return w(y)===m},T.isPortal=function(y){return w(y)===r},T.isProfiler=function(y){return w(y)===s},T.isStrictMode=function(y){return w(y)===o},T.isSuspense=function(y){return w(y)===u},T.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===d||y===s||y===o||y===u||y===p||typeof y=="object"&&y!==null&&(y.$$typeof===h||y.$$typeof===m||y.$$typeof===a||y.$$typeof===l||y.$$typeof===f||y.$$typeof===v||y.$$typeof===C||y.$$typeof===I||y.$$typeof===b)},T.typeOf=w,T}var Xr;function Ws(){return Xr||(Xr=1,kt.exports=_s()),kt.exports}var _t,Jr;function Us(){if(Jr)return _t;Jr=1;var e=Ws(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[e.ForwardRef]=n,s[e.Memo]=o;function a(h){return e.isMemo(h)?o:s[h.$$typeof]||t}var l=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,p=Object.prototype;function m(h,b,v){if(typeof b!="string"){if(p){var C=u(b);C&&C!==p&&m(h,C,v)}var I=c(b);d&&(I=I.concat(d(b)));for(var w=a(h),j=a(b),y=0;y<I.length;++y){var E=I[y];if(!r[E]&&!(v&&v[E])&&!(j&&j[E])&&!(w&&w[E])){var R=f(b,E);try{l(h,E,R)}catch{}}}}return h}return _t=m,_t}var Vs=Us();const Qr=ss(Vs),Hs=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function qs(e,t,r,n,{areStatesEqual:o,areOwnPropsEqual:s,areStatePropsEqual:a}){let l=!1,c,d,f,u,p;function m(I,w){return c=I,d=w,f=e(c,d),u=t(n,d),p=r(f,u,d),l=!0,p}function h(){return f=e(c,d),t.dependsOnOwnProps&&(u=t(n,d)),p=r(f,u,d),p}function b(){return e.dependsOnOwnProps&&(f=e(c,d)),t.dependsOnOwnProps&&(u=t(n,d)),p=r(f,u,d),p}function v(){const I=e(c,d),w=!a(I,f);return f=I,w&&(p=r(f,u,d)),p}function C(I,w){const j=!s(w,d),y=!o(I,c,w,d);return c=I,d=w,j&&y?h():j?b():y?v():p}return function(w,j){return l?C(w,j):m(w,j)}}function zs(e,t){let{initMapStateToProps:r,initMapDispatchToProps:n,initMergeProps:o}=t,s=Wn(t,Hs);const a=r(e,s),l=n(e,s),c=o(e,s);return qs(a,l,c,e,s)}function Ys(e,t){const r={};for(const n in e){const o=e[n];typeof o=="function"&&(r[n]=(...s)=>t(o(...s)))}return r}function Zt(e){return function(r){const n=e(r);function o(){return n}return o.dependsOnOwnProps=!1,o}}function Zr(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function Un(e,t){return function(n,{displayName:o}){const s=function(l,c){return s.dependsOnOwnProps?s.mapToProps(l,c):s.mapToProps(l,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(l,c){s.mapToProps=e,s.dependsOnOwnProps=Zr(e);let d=s(l,c);return typeof d=="function"&&(s.mapToProps=d,s.dependsOnOwnProps=Zr(d),d=s(l,c)),d},s}}function ir(e,t){return(r,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function Ks(e){return e&&typeof e=="object"?Zt(t=>Ys(e,t)):e?typeof e=="function"?Un(e):ir(e,"mapDispatchToProps"):Zt(t=>({dispatch:t}))}function Xs(e){return e?typeof e=="function"?Un(e):ir(e,"mapStateToProps"):Zt(()=>({}))}function Js(e,t,r){return fe({},r,e,t)}function Qs(e){return function(r,{displayName:n,areMergedPropsEqual:o}){let s=!1,a;return function(c,d,f){const u=e(c,d,f);return s?o(u,a)||(a=u):(s=!0,a=u),a}}}function Zs(e){return e?typeof e=="function"?Qs(e):ir(e,"mergeProps"):()=>Js}function ea(){const e=Fs();let t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],o=t;for(;o;)n.push(o),o=o.next;return n},subscribe(n){let o=!0,s=r={callback:n,next:null,prev:r};return s.prev?s.prev.next=s:t=s,function(){!o||t===null||(o=!1,s.next?s.next.prev=s.prev:r=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const en={notify(){},get:()=>[]};function Vn(e,t){let r,n=en,o=0,s=!1;function a(b){f();const v=n.subscribe(b);let C=!1;return()=>{C||(C=!0,v(),u())}}function l(){n.notify()}function c(){h.onStateChange&&h.onStateChange()}function d(){return s}function f(){o++,r||(r=t?t.addNestedSub(c):e.subscribe(c),n=ea())}function u(){o--,r&&o===0&&(r(),r=void 0,n.clear(),n=en)}function p(){s||(s=!0,f())}function m(){s&&(s=!1,u())}const h={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>n};return h}const ta=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vt=ta?S.useLayoutEffect:S.useEffect;function tn(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Wt(e,t){if(tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!tn(e[r[o]],t[r[o]]))return!1;return!0}const ra=["reactReduxForwardedRef"];let Hn=ks;const na=e=>{Hn=e},oa=[null,null];function sa(e,t,r){vt(()=>e(...t),r)}function aa(e,t,r,n,o,s){e.current=n,r.current=!1,o.current&&(o.current=null,s())}function ia(e,t,r,n,o,s,a,l,c,d,f){if(!e)return()=>{};let u=!1,p=null;const m=()=>{if(u||!l.current)return;const b=t.getState();let v,C;try{v=n(b,o.current)}catch(I){C=I,p=I}C||(p=null),v===s.current?a.current||d():(s.current=v,c.current=v,a.current=!0,f())};return r.onStateChange=m,r.trySubscribe(),m(),()=>{if(u=!0,r.tryUnsubscribe(),r.onStateChange=null,p)throw p}}function la(e,t){return e===t}function qn(e,t,r,{pure:n,areStatesEqual:o=la,areOwnPropsEqual:s=Wt,areStatePropsEqual:a=Wt,areMergedPropsEqual:l=Wt,forwardRef:c=!1,context:d=_n}={}){const f=d,u=Xs(e),p=Ks(t),m=Zs(r),h=!!e;return v=>{const C=v.displayName||v.name||"Component",I=`Connect(${C})`,w={shouldHandleStateChanges:h,displayName:I,wrappedComponentName:C,WrappedComponent:v,initMapStateToProps:u,initMapDispatchToProps:p,initMergeProps:m,areStatesEqual:o,areStatePropsEqual:a,areOwnPropsEqual:s,areMergedPropsEqual:l};function j(R){const[O,V,M]=S.useMemo(()=>{const{reactReduxForwardedRef:g}=R,x=Wn(R,ra);return[R.context,g,x]},[R]),F=S.useMemo(()=>O&&O.Consumer&&ms.isContextConsumer(S.createElement(O.Consumer,null))?O:f,[O,f]),H=S.useContext(F),X=!!R.store&&!!R.store.getState&&!!R.store.dispatch,Ae=!!H&&!!H.store,q=X?R.store:H.store,Qe=Ae?H.getServerState:q.getState,ae=S.useMemo(()=>zs(q.dispatch,w),[q]),[le,Ze]=S.useMemo(()=>{if(!h)return oa;const g=Vn(q,X?void 0:H.subscription),x=g.notifyNestedSubs.bind(g);return[g,x]},[q,X,H]),et=S.useMemo(()=>X?H:fe({},H,{subscription:le}),[X,H,le]),D=S.useRef(),A=S.useRef(M),ce=S.useRef(),tt=S.useRef(!1);S.useRef(!1);const Re=S.useRef(!1),be=S.useRef();vt(()=>(Re.current=!0,()=>{Re.current=!1}),[]);const rt=S.useMemo(()=>()=>ce.current&&M===A.current?ce.current:ae(q.getState(),M),[q,M]),Tt=S.useMemo(()=>x=>le?ia(h,q,le,ae,A,D,tt,Re,ce,Ze,x):()=>{},[le]);sa(aa,[A,D,tt,M,ce,Ze]);let Ne;try{Ne=Hn(Tt,rt,Qe?()=>ae(Qe(),M):rt)}catch(g){throw be.current&&(g.message+=`
The error may be correlated with this previous error:
${be.current.stack}

`),g}vt(()=>{be.current=void 0,ce.current=void 0,D.current=Ne});const Oe=S.useMemo(()=>S.createElement(v,fe({},Ne,{ref:V})),[V,v,Ne]);return S.useMemo(()=>h?S.createElement(F.Provider,{value:et},Oe):Oe,[F,Oe,et])}const E=S.memo(j);if(E.WrappedComponent=v,E.displayName=j.displayName=I,c){const O=S.forwardRef(function(M,F){return S.createElement(E,fe({},M,{reactReduxForwardedRef:F}))});return O.displayName=I,O.WrappedComponent=v,Qr(O,v)}return Qr(E,v)}}function ca({store:e,context:t,children:r,serverState:n,stabilityCheck:o="once",noopCheck:s="once"}){const a=S.useMemo(()=>{const d=Vn(e);return{store:e,subscription:d,getServerState:n?()=>n:void 0,stabilityCheck:o,noopCheck:s}},[e,n,o,s]),l=S.useMemo(()=>e.getState(),[e]);vt(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==e.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,l]);const c=t||_n;return S.createElement(c.Provider,{value:a},r)}na(Bs.useSyncExternalStore);$s(ar.unstable_batchedUpdates);function ua(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function zn(e,t){var r=S.useState(function(){return{inputs:t,result:e()}})[0],n=S.useRef(!0),o=S.useRef(r),s=n.current||!!(t&&o.current.inputs&&ua(t,o.current.inputs)),a=s?o.current:{inputs:t,result:e()};return S.useEffect(function(){n.current=!1,o.current=a},[a]),a.result}function da(e,t){return zn(function(){return e},t)}var B=zn,P=da,se=function(t){var r=t.top,n=t.right,o=t.bottom,s=t.left,a=n-s,l=o-r,c={top:r,right:n,bottom:o,left:s,width:a,height:l,x:s,y:r,center:{x:(n+s)/2,y:(o+r)/2}};return c},lr=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},rn=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},pa=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Ut={top:0,right:0,bottom:0,left:0},cr=function(t){var r=t.borderBox,n=t.margin,o=n===void 0?Ut:n,s=t.border,a=s===void 0?Ut:s,l=t.padding,c=l===void 0?Ut:l,d=se(lr(r,o)),f=se(rn(r,a)),u=se(rn(f,c));return{marginBox:d,borderBox:se(r),paddingBox:f,contentBox:u,margin:o,border:a,padding:c}},re=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var o=Number(r);return isNaN(o)&&hs(),o},fa=function(){return{x:window.pageXOffset,y:window.pageYOffset}},xt=function(t,r){var n=t.borderBox,o=t.border,s=t.margin,a=t.padding,l=pa(n,r);return cr({borderBox:l,border:o,margin:s,padding:a})},yt=function(t,r){return r===void 0&&(r=fa()),xt(t,r)},Yn=function(t,r){var n={top:re(r.marginTop),right:re(r.marginRight),bottom:re(r.marginBottom),left:re(r.marginLeft)},o={top:re(r.paddingTop),right:re(r.paddingRight),bottom:re(r.paddingBottom),left:re(r.paddingLeft)},s={top:re(r.borderTopWidth),right:re(r.borderRightWidth),bottom:re(r.borderBottomWidth),left:re(r.borderLeftWidth)};return cr({borderBox:t,margin:n,padding:o,border:s})},Kn=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return Yn(r,n)},nn=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function ga(e,t){return!!(e===t||nn(e)&&nn(t))}function ma(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!ga(e[r],t[r]))return!1;return!0}function k(e,t){t===void 0&&(t=ma);var r=null;function n(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];if(r&&r.lastThis===this&&t(o,r.lastArgs))return r.lastResult;var a=e.apply(this,o);return r={lastResult:a,lastArgs:o,lastThis:this},a}return n.clear=function(){r=null},n}var Ue=function(t){var r=[],n=null,o=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];r=l,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return o.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},o};function Xn(e,t){}Xn.bind(null,"warn");Xn.bind(null,"error");function ge(){}function ha(e,t){return{...e,...t}}function ne(e,t,r){const n=t.map(o=>{const s=ha(r,o.options);return e.addEventListener(o.eventName,o.fn,s),function(){e.removeEventListener(o.eventName,o.fn,s)}});return function(){n.forEach(s=>{s()})}}const ba="Invariant failed";class St extends Error{}St.prototype.toString=function(){return this.message};function N(e,t){throw new St(ba)}class va extends $.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=ge,this.onWindowError=r=>{const n=this.getCallbacks();n.isDragging()&&n.tryAbort(),r.error instanceof St&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=ne(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof St){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const xa=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Dt=e=>e+1,ya=e=>`
  You have lifted an item in position ${Dt(e.source.index)}
`,Jn=(e,t)=>{const r=e.droppableId===t.droppableId,n=Dt(e.index),o=Dt(t.index);return r?`
      You have moved the item from position ${n}
      to position ${o}
    `:`
    You have moved the item from position ${n}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${o}
  `},Qn=(e,t,r)=>t.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,Sa=e=>{const t=e.destination;if(t)return Jn(e.source,t);const r=e.combine;return r?Qn(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},on=e=>`
  The item has returned to its starting position
  of ${Dt(e.index)}
`,Da=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${on(e.source)}
    `;const t=e.destination,r=e.combine;return t?`
      You have dropped the item.
      ${Jn(e.source,t)}
    `:r?`
      You have dropped the item.
      ${Qn(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${on(e.source)}
  `},Na={dragHandleUsageInstructions:xa,onDragStart:ya,onDragUpdate:Sa,onDragEnd:Da};var bt=Na;const _={x:0,y:0},U=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Q=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),me=(e,t)=>e.x===t.x&&e.y===t.y,je=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Se=(e,t,r=0)=>e==="x"?{x:t,y:r}:{x:r,y:t},Ve=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),sn=(e,t)=>Math.min(...t.map(r=>Ve(e,r))),Zn=e=>t=>({x:e(t.x),y:e(t.y)});var Ca=((e,t)=>{const r=se({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r});const Xe=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),an=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Ia={top:0,right:0,bottom:0,left:0},wa=(e,t)=>t?Xe(e,t.scroll.diff.displacement):e,ja=(e,t,r)=>r&&r.increasedBy?{...e,[t.end]:e[t.end]+r.increasedBy[t.line]}:e,Ea=(e,t)=>t&&t.shouldClipSubject?Ca(t.pageMarginBox,e):se(e);var Ce=(({page:e,withPlaceholder:t,axis:r,frame:n})=>{const o=wa(e.marginBox,n),s=ja(o,r,t),a=Ea(s,n);return{page:e,withPlaceholder:t,active:a}}),ur=((e,t)=>{e.frame||N();const r=e.frame,n=Q(t,r.scroll.initial),o=je(n),s={...r,scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:o},max:r.scroll.max}},a=Ce({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s});return{...e,frame:s,subject:a}});const eo=k(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),to=k(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),jt=k(e=>Object.values(e)),Pa=k(e=>Object.values(e));var Ee=k((e,t)=>Pa(t).filter(n=>e===n.descriptor.droppableId).sort((n,o)=>n.descriptor.index-o.descriptor.index));function dr(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Et(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Pt=k((e,t)=>t.filter(r=>r.descriptor.id!==e.descriptor.id)),Aa=(({isMovingForward:e,draggable:t,destination:r,insideDestination:n,previousImpact:o})=>{if(!r.isCombineEnabled||!dr(o))return null;function a(m){const h={type:"COMBINE",combine:{draggableId:m,droppableId:r.descriptor.id}};return{...o,at:h}}const l=o.displaced.all,c=l.length?l[0]:null;if(e)return c?a(c):null;const d=Pt(t,n);if(!c){if(!d.length)return null;const m=d[d.length-1];return a(m.descriptor.id)}const f=d.findIndex(m=>m.descriptor.id===c);f===-1&&N();const u=f-1;if(u<0)return null;const p=d[u];return a(p.descriptor.id)}),Pe=((e,t)=>e.descriptor.droppableId===t.descriptor.id);const ro={point:_,value:0},He={invisible:{},visible:{},all:[]},Ra={displaced:He,displacedBy:ro,at:null};var Oa=Ra,oe=((e,t)=>r=>e<=r&&r<=t),no=(e=>{const t=oe(e.top,e.bottom),r=oe(e.left,e.right);return n=>{if(t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right))return!0;const s=t(n.top)||t(n.bottom),a=r(n.left)||r(n.right);if(s&&a)return!0;const c=n.top<e.top&&n.bottom>e.bottom,d=n.left<e.left&&n.right>e.right;return c&&d?!0:c&&a||d&&s}}),Ba=(e=>{const t=oe(e.top,e.bottom),r=oe(e.left,e.right);return n=>t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right)});const pr={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},oo={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Ta=(e=>t=>{const r=oe(t.top,t.bottom),n=oe(t.left,t.right);return o=>e===pr?r(o.top)&&r(o.bottom):n(o.left)&&n(o.right)});const La=(e,t)=>{const r=t.frame?t.frame.scroll.diff.displacement:_;return Xe(e,r)},Ma=(e,t,r)=>t.subject.active?r(t.subject.active)(e):!1,$a=(e,t,r)=>r(t)(e),fr=({target:e,destination:t,viewport:r,withDroppableDisplacement:n,isVisibleThroughFrameFn:o})=>{const s=n?La(e,t):e;return Ma(s,t,o)&&$a(s,r,o)},Fa=e=>fr({...e,isVisibleThroughFrameFn:no}),so=e=>fr({...e,isVisibleThroughFrameFn:Ba}),Ga=e=>fr({...e,isVisibleThroughFrameFn:Ta(e.destination.axis)}),ka=(e,t,r)=>{if(typeof r=="boolean")return r;if(!t)return!0;const{invisible:n,visible:o}=t;if(n[e])return!1;const s=o[e];return s?s.shouldAnimate:!0};function _a(e,t){const r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return se(lr(r,n))}function qe({afterDragging:e,destination:t,displacedBy:r,viewport:n,forceShouldAnimate:o,last:s}){return e.reduce(function(l,c){const d=_a(c,r),f=c.descriptor.id;if(l.all.push(f),!Fa({target:d,destination:t,viewport:n,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const p=ka(f,s,o),m={draggableId:f,shouldAnimate:p};return l.visible[f]=m,l},{all:[],visible:{},invisible:{}})}function Wa(e,t){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function ln({insideDestination:e,inHomeList:t,displacedBy:r,destination:n}){const o=Wa(e,{inHomeList:t});return{displaced:He,displacedBy:r,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Nt({draggable:e,insideDestination:t,destination:r,viewport:n,displacedBy:o,last:s,index:a,forceShouldAnimate:l}){const c=Pe(e,r);if(a==null)return ln({insideDestination:t,inHomeList:c,displacedBy:o,destination:r});const d=t.find(h=>h.descriptor.index===a);if(!d)return ln({insideDestination:t,inHomeList:c,displacedBy:o,destination:r});const f=Pt(e,t),u=t.indexOf(d),p=f.slice(u);return{displaced:qe({afterDragging:p,destination:r,displacedBy:o,last:s,viewport:n.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function he(e,t){return!!t.effected[e]}var Ua=(({isMovingForward:e,destination:t,draggables:r,combine:n,afterCritical:o})=>{if(!t.isCombineEnabled)return null;const s=n.draggableId,l=r[s].descriptor.index;return he(s,o)?e?l:l-1:e?l+1:l}),Va=(({isMovingForward:e,isInHomeList:t,insideDestination:r,location:n})=>{if(!r.length)return null;const o=n.index,s=e?o+1:o-1,a=r[0].descriptor.index,l=r[r.length-1].descriptor.index,c=t?l:l+1;return s<a||s>c?null:s}),Ha=(({isMovingForward:e,isInHomeList:t,draggable:r,draggables:n,destination:o,insideDestination:s,previousImpact:a,viewport:l,afterCritical:c})=>{const d=a.at;if(d||N(),d.type==="REORDER"){const u=Va({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:s});return u==null?null:Nt({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:u})}const f=Ua({isMovingForward:e,destination:o,displaced:a.displaced,draggables:n,combine:d.combine,afterCritical:c});return f==null?null:Nt({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:f})}),qa=(({displaced:e,afterCritical:t,combineWith:r,displacedBy:n})=>{const o=!!(e.visible[r]||e.invisible[r]);return he(r,t)?o?_:je(n.point):o?n.point:_}),za=(({afterCritical:e,impact:t,draggables:r})=>{const n=Et(t);n||N();const o=n.draggableId,s=r[o].page.borderBox.center,a=qa({displaced:t.displaced,afterCritical:e,combineWith:o,displacedBy:t.displacedBy});return U(s,a)});const ao=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,Ya=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,gr=(e,t,r)=>t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,cn=({axis:e,moveRelativeTo:t,isMoving:r})=>Se(e.line,t.marginBox[e.end]+ao(e,r),gr(e,t.marginBox,r)),un=({axis:e,moveRelativeTo:t,isMoving:r})=>Se(e.line,t.marginBox[e.start]-Ya(e,r),gr(e,t.marginBox,r)),Ka=({axis:e,moveInto:t,isMoving:r})=>Se(e.line,t.contentBox[e.start]+ao(e,r),gr(e,t.contentBox,r));var Xa=(({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o})=>{const s=Ee(n.descriptor.id,r),a=t.page,l=n.axis;if(!s.length)return Ka({axis:l,moveInto:n.page,isMoving:a});const{displaced:c,displacedBy:d}=e,f=c.all[0];if(f){const p=r[f];if(he(f,o))return un({axis:l,moveRelativeTo:p.page,isMoving:a});const m=xt(p.page,d.point);return un({axis:l,moveRelativeTo:m,isMoving:a})}const u=s[s.length-1];if(u.descriptor.id===t.descriptor.id)return a.borderBox.center;if(he(u.descriptor.id,o)){const p=xt(u.page,je(o.displacedBy.point));return cn({axis:l,moveRelativeTo:p,isMoving:a})}return cn({axis:l,moveRelativeTo:u.page,isMoving:a})}),er=((e,t)=>{const r=e.frame;return r?U(t,r.scroll.diff.displacement):t});const Ja=({impact:e,draggable:t,droppable:r,draggables:n,afterCritical:o})=>{const s=t.page.borderBox.center,a=e.at;return!r||!a?s:a.type==="REORDER"?Xa({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:o}):za({impact:e,draggables:n,afterCritical:o})};var At=(e=>{const t=Ja(e),r=e.droppable;return r?er(r,t):t}),io=((e,t)=>{const r=Q(t,e.scroll.initial),n=je(r);return{frame:se({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}}});function dn(e,t){return e.map(r=>t[r])}function Qa(e,t){for(let r=0;r<t.length;r++){const n=t[r].visible[e];if(n)return n}return null}var Za=(({impact:e,viewport:t,destination:r,draggables:n,maxScrollChange:o})=>{const s=io(t,U(t.scroll.current,o)),a=r.frame?ur(r,U(r.frame.scroll.current,o)):r,l=e.displaced,c=qe({afterDragging:dn(l.all,n),destination:r,displacedBy:e.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),d=qe({afterDragging:dn(l.all,n),destination:a,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),f={},u={},p=[l,c,d];return l.all.forEach(h=>{const b=Qa(h,p);if(b){u[h]=b;return}f[h]=!0}),{...e,displaced:{all:l.all,invisible:f,visible:u}}}),ei=((e,t)=>U(e.scroll.diff.displacement,t)),mr=(({pageBorderBoxCenter:e,draggable:t,viewport:r})=>{const n=ei(r,e),o=Q(n,t.page.borderBox.center);return U(t.client.borderBox.center,o)}),lo=(({draggable:e,destination:t,newPageBorderBoxCenter:r,viewport:n,withDroppableDisplacement:o,onlyOnMainAxis:s=!1})=>{const a=Q(r,e.page.borderBox.center),c={target:Xe(e.page.borderBox,a),destination:t,withDroppableDisplacement:o,viewport:n};return s?Ga(c):so(c)}),ti=(({isMovingForward:e,draggable:t,destination:r,draggables:n,previousImpact:o,viewport:s,previousPageBorderBoxCenter:a,previousClientSelection:l,afterCritical:c})=>{if(!r.isEnabled)return null;const d=Ee(r.descriptor.id,n),f=Pe(t,r),u=Aa({isMovingForward:e,draggable:t,destination:r,insideDestination:d,previousImpact:o})||Ha({isMovingForward:e,isInHomeList:f,draggable:t,draggables:n,destination:r,insideDestination:d,previousImpact:o,viewport:s,afterCritical:c});if(!u)return null;const p=At({impact:u,draggable:t,droppable:r,draggables:n,afterCritical:c});if(lo({draggable:t,destination:r,newPageBorderBoxCenter:p,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:mr({pageBorderBoxCenter:p,draggable:t,viewport:s}),impact:u,scrollJumpRequest:null};const h=Q(p,a),b=Za({impact:u,viewport:s,destination:r,draggables:n,maxScrollChange:h});return{clientSelection:l,impact:b,scrollJumpRequest:h}});const Y=e=>{const t=e.subject.active;return t||N(),t};var ri=(({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:n,viewport:o})=>{const s=r.subject.active;if(!s)return null;const a=r.axis,l=oe(s[a.start],s[a.end]),c=jt(n).filter(f=>f!==r).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>no(o.frame)(Y(f))).filter(f=>{const u=Y(f);return e?s[a.crossAxisEnd]<u[a.crossAxisEnd]:u[a.crossAxisStart]<s[a.crossAxisStart]}).filter(f=>{const u=Y(f),p=oe(u[a.start],u[a.end]);return l(u[a.start])||l(u[a.end])||p(s[a.start])||p(s[a.end])}).sort((f,u)=>{const p=Y(f)[a.crossAxisStart],m=Y(u)[a.crossAxisStart];return e?p-m:m-p}).filter((f,u,p)=>Y(f)[a.crossAxisStart]===Y(p[0])[a.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const d=c.filter(f=>oe(Y(f)[a.start],Y(f)[a.end])(t[a.line]));return d.length===1?d[0]:d.length>1?d.sort((f,u)=>Y(f)[a.start]-Y(u)[a.start])[0]:c.sort((f,u)=>{const p=sn(t,an(Y(f))),m=sn(t,an(Y(u)));return p!==m?p-m:Y(f)[a.start]-Y(u)[a.start]})[0]});const pn=(e,t)=>{const r=e.page.borderBox.center;return he(e.descriptor.id,t)?Q(r,t.displacedBy.point):r},ni=(e,t)=>{const r=e.page.borderBox;return he(e.descriptor.id,t)?Xe(r,je(t.displacedBy.point)):r};var oi=(({pageBorderBoxCenter:e,viewport:t,destination:r,insideDestination:n,afterCritical:o})=>n.filter(a=>so({target:ni(a,o),destination:r,viewport:t.frame,withDroppableDisplacement:!0})).sort((a,l)=>{const c=Ve(e,er(r,pn(a,o))),d=Ve(e,er(r,pn(l,o)));return c<d?-1:d<c?1:a.descriptor.index-l.descriptor.index})[0]||null),Je=k(function(t,r){const n=r[t.line];return{value:n,point:Se(t.line,n)}});const si=(e,t,r)=>{const n=e.axis;if(e.descriptor.mode==="virtual")return Se(n.line,t[n.line]);const o=e.subject.page.contentBox[n.size],c=Ee(e.descriptor.id,r).reduce((d,f)=>d+f.client.marginBox[n.size],0)+t[n.line]-o;return c<=0?null:Se(n.line,c)},co=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),uo=(e,t,r)=>{const n=e.frame;Pe(t,e)&&N(),e.subject.withPlaceholder&&N();const o=Je(e.axis,t.displaceBy).point,s=si(e,o,r),a={placeholderSize:o,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n){const f=Ce({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return{...e,subject:f}}const l=s?U(n.scroll.max,s):n.scroll.max,c=co(n,l),d=Ce({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:c});return{...e,subject:d,frame:c}},ai=e=>{const t=e.subject.withPlaceholder;t||N();const r=e.frame;if(!r){const a=Ce({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:a}}const n=t.oldFrameMaxScroll;n||N();const o=co(r,n),s=Ce({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:s,frame:o}};var ii=(({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:r,draggable:n,draggables:o,destination:s,viewport:a,afterCritical:l})=>{if(!t){if(r.length)return null;const u={displaced:He,displacedBy:ro,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},p=At({impact:u,draggable:n,droppable:s,draggables:o,afterCritical:l}),m=Pe(n,s)?s:uo(s,n,o);return lo({draggable:n,destination:m,newPageBorderBoxCenter:p,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?u:null}const c=e[s.axis.line]<=t.page.borderBox.center[s.axis.line],d=(()=>{const u=t.descriptor.index;return t.descriptor.id===n.descriptor.id||c?u:u+1})(),f=Je(s.axis,n.displaceBy);return Nt({draggable:n,insideDestination:r,destination:s,viewport:a,displacedBy:f,last:He,index:d})}),li=(({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:r,isOver:n,draggables:o,droppables:s,viewport:a,afterCritical:l})=>{const c=ri({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:s,viewport:a});if(!c)return null;const d=Ee(c.descriptor.id,o),f=oi({pageBorderBoxCenter:t,viewport:a,destination:c,insideDestination:d,afterCritical:l}),u=ii({previousPageBorderBoxCenter:t,destination:c,draggable:r,draggables:o,moveRelativeTo:f,insideDestination:d,viewport:a,afterCritical:l});if(!u)return null;const p=At({impact:u,draggable:r,droppable:c,draggables:o,afterCritical:l});return{clientSelection:mr({pageBorderBoxCenter:p,draggable:r,viewport:a}),impact:u,scrollJumpRequest:null}}),Z=(e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null});const ci=(e,t)=>{const r=Z(e);return r?t[r]:null};var ui=(({state:e,type:t})=>{const r=ci(e.impact,e.dimensions.droppables),n=!!r,o=e.dimensions.droppables[e.critical.droppable.id],s=r||o,a=s.axis.direction,l=a==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||a==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!n)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,{draggables:u,droppables:p}=e.dimensions;return l?ti({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:d,destination:s,draggables:u,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):li({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:d,isOver:s,draggables:u,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})});function ye(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function po(e){const t=oe(e.top,e.bottom),r=oe(e.left,e.right);return function(o){return t(o.y)&&r(o.x)}}function di(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function pi({pageBorderBox:e,draggable:t,candidates:r}){const n=t.page.borderBox.center,o=r.map(s=>{const a=s.axis,l=Se(s.axis.line,e.center[a.line],s.page.borderBox.center[a.crossAxisLine]);return{id:s.descriptor.id,distance:Ve(n,l)}}).sort((s,a)=>a.distance-s.distance);return o[0]?o[0].id:null}function fi({pageBorderBox:e,draggable:t,droppables:r}){const n=jt(r).filter(o=>{if(!o.isEnabled)return!1;const s=o.subject.active;if(!s||!di(e,s))return!1;if(po(s)(e.center))return!0;const a=o.axis,l=s.center[a.crossAxisLine],c=e[a.crossAxisStart],d=e[a.crossAxisEnd],f=oe(s[a.crossAxisStart],s[a.crossAxisEnd]),u=f(c),p=f(d);return!u&&!p?!0:u?c<l:d>l});return n.length?n.length===1?n[0].descriptor.id:pi({pageBorderBox:e,draggable:t,candidates:n}):null}const fo=(e,t)=>se(Xe(e,t));var gi=((e,t)=>{const r=e.frame;return r?fo(t,r.scroll.diff.value):t});function go({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function mi({draggable:e,closest:t,inHomeList:r}){return t?r&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var hi=(({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:r,insideDestination:n,last:o,viewport:s,afterCritical:a})=>{const l=r.axis,c=Je(r.axis,t.displaceBy),d=c.value,f=e[l.start],u=e[l.end],m=Pt(t,n).find(b=>{const v=b.descriptor.id,C=b.page.borderBox.center[l.line],I=he(v,a),w=go({displaced:o,id:v});return I?w?u<=C:f<C-d:w?u<=C+d:f<C})||null,h=mi({draggable:t,closest:m,inHomeList:Pe(t,r)});return Nt({draggable:t,insideDestination:n,destination:r,viewport:s,last:o,displacedBy:c,index:h})});const bi=4;var vi=(({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:r,destination:n,insideDestination:o,afterCritical:s})=>{if(!n.isCombineEnabled)return null;const a=n.axis,l=Je(n.axis,e.displaceBy),c=l.value,d=t[a.start],f=t[a.end],p=Pt(e,o).find(h=>{const b=h.descriptor.id,v=h.page.borderBox,I=v[a.size]/bi,w=he(b,s),j=go({displaced:r.displaced,id:b});return w?j?f>v[a.start]+I&&f<v[a.end]-I:d>v[a.start]-c+I&&d<v[a.end]-c-I:j?f>v[a.start]+c+I&&f<v[a.end]+c-I:d>v[a.start]+I&&d<v[a.end]-I});return p?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:n.descriptor.id}}}:null}),mo=(({pageOffset:e,draggable:t,draggables:r,droppables:n,previousImpact:o,viewport:s,afterCritical:a})=>{const l=fo(t.page.borderBox,e),c=fi({pageBorderBox:l,draggable:t,droppables:n});if(!c)return Oa;const d=n[c],f=Ee(d.descriptor.id,r),u=gi(d,l);return vi({pageBorderBoxWithDroppableScroll:u,draggable:t,previousImpact:o,destination:d,insideDestination:f,afterCritical:a})||hi({pageBorderBoxWithDroppableScroll:u,draggable:t,destination:d,insideDestination:f,last:o.displaced,viewport:s,afterCritical:a})}),hr=((e,t)=>({...e,[t.descriptor.id]:t}));const xi=({previousImpact:e,impact:t,droppables:r})=>{const n=Z(e),o=Z(t);if(!n||n===o)return r;const s=r[n];if(!s.subject.withPlaceholder)return r;const a=ai(s);return hr(r,a)};var yi=(({draggable:e,draggables:t,droppables:r,previousImpact:n,impact:o})=>{const s=xi({previousImpact:n,impact:o,droppables:r}),a=Z(o);if(!a)return s;const l=r[a];if(Pe(e,l)||l.subject.withPlaceholder)return s;const c=uo(l,e,t);return hr(s,c)}),ke=(({state:e,clientSelection:t,dimensions:r,viewport:n,impact:o,scrollJumpRequest:s})=>{const a=n||e.viewport,l=r||e.dimensions,c=t||e.current.client.selection,d=Q(c,e.initial.client.selection),f={offset:d,selection:c,borderBoxCenter:U(e.initial.client.borderBoxCenter,d)},u={selection:U(f.selection,a.scroll.current),borderBoxCenter:U(f.borderBoxCenter,a.scroll.current),offset:U(f.offset,a.scroll.diff.value)},p={client:f,page:u};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:a,current:p};const m=l.draggables[e.critical.draggable.id],h=o||mo({pageOffset:u.offset,draggable:m,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:a,afterCritical:e.afterCritical}),b=yi({draggable:m,impact:h,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:p,dimensions:{draggables:l.draggables,droppables:b},impact:h,viewport:a,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}});function Si(e,t){return e.map(r=>t[r])}var ho=(({impact:e,viewport:t,draggables:r,destination:n,forceShouldAnimate:o})=>{const s=e.displaced,a=Si(s.all,r),l=qe({afterDragging:a,destination:n,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:o,last:s});return{...e,displaced:l}}),bo=(({impact:e,draggable:t,droppable:r,draggables:n,viewport:o,afterCritical:s})=>{const a=At({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:s});return mr({pageBorderBoxCenter:a,draggable:t,viewport:o})}),vo=(({state:e,dimensions:t,viewport:r})=>{e.movementMode!=="SNAP"&&N();const n=e.impact,o=r||e.viewport,s=t||e.dimensions,{draggables:a,droppables:l}=s,c=a[e.critical.draggable.id],d=Z(n);d||N();const f=l[d],u=ho({impact:n,viewport:o,destination:f,draggables:a}),p=bo({impact:u,draggable:c,droppable:f,draggables:a,viewport:o,afterCritical:e.afterCritical});return ke({impact:u,clientSelection:p,state:e,dimensions:s,viewport:o})}),Di=(e=>({index:e.index,droppableId:e.droppableId})),xo=(({draggable:e,home:t,draggables:r,viewport:n})=>{const o=Je(t.axis,e.displaceBy),s=Ee(t.descriptor.id,r),a=s.indexOf(e);a===-1&&N();const l=s.slice(a+1),c=l.reduce((p,m)=>(p[m.descriptor.id]=!0,p),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:o,effected:c};return{impact:{displaced:qe({afterDragging:l,destination:t,displacedBy:o,last:null,viewport:n.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:Di(e.descriptor)}},afterCritical:d}}),Ni=((e,t)=>({draggables:e.draggables,droppables:hr(e.droppables,t)})),Ci=(({draggable:e,offset:t,initialWindowScroll:r})=>{const n=xt(e.client,t),o=yt(n,r);return{...e,placeholder:{...e.placeholder,client:n},client:n,page:o}}),Ii=(e=>{const t=e.frame;return t||N(),t}),wi=(({additions:e,updatedDroppables:t,viewport:r})=>{const n=r.scroll.diff.value;return e.map(o=>{const s=o.descriptor.droppableId,a=t[s],c=Ii(a).scroll.diff.value,d=U(n,c);return Ci({draggable:o,offset:d,initialWindowScroll:r.scroll.initial})})}),ji=(({state:e,published:t})=>{const r=t.modified.map(C=>{const I=e.dimensions.droppables[C.droppableId];return ur(I,C.scroll)}),n={...e.dimensions.droppables,...eo(r)},o=to(wi({additions:t.additions,updatedDroppables:n,viewport:e.viewport})),s={...e.dimensions.draggables,...o};t.removals.forEach(C=>{delete s[C]});const a={droppables:n,draggables:s},l=Z(e.impact),c=l?a.droppables[l]:null,d=a.draggables[e.critical.draggable.id],f=a.droppables[e.critical.droppable.id],{impact:u,afterCritical:p}=xo({draggable:d,home:f,draggables:s,viewport:e.viewport}),m=c&&c.isCombineEnabled?e.impact:u,h=mo({pageOffset:e.current.page.offset,draggable:a.draggables[e.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:m,viewport:e.viewport,afterCritical:p}),b={...e,phase:"DRAGGING",impact:h,onLiftImpact:u,dimensions:a,afterCritical:p,forceShouldAnimate:!1};return e.phase==="COLLECTING"?b:{...b,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}});const tr=e=>e.movementMode==="SNAP",Vt=(e,t,r)=>{const n=Ni(e.dimensions,t);return!tr(e)||r?ke({state:e,dimensions:n}):vo({state:e,dimensions:n})};function Ht(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const fn={phase:"IDLE",completed:null,shouldFlush:!1};var Ei=((e=fn,t)=>{if(t.type==="FLUSH")return{...fn,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&N();const{critical:r,clientSelection:n,viewport:o,dimensions:s,movementMode:a}=t.payload,l=s.draggables[r.draggable.id],c=s.droppables[r.droppable.id],d={selection:n,borderBoxCenter:l.client.borderBox.center,offset:_},f={client:d,page:{selection:U(d.selection,o.scroll.initial),borderBoxCenter:U(d.selection,o.scroll.initial),offset:U(d.selection,o.scroll.diff.value)}},u=jt(s.droppables).every(b=>!b.isFixedOnPage),{impact:p,afterCritical:m}=xo({draggable:l,home:c,draggables:s.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:a,dimensions:s,initial:f,current:f,isWindowScrollAllowed:u,impact:p,afterCritical:m,onLiftImpact:p,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&N(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||N(),ji({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;ye(e)||N();const{client:r}=t.payload;return me(r,e.current.client.selection)?e:ke({state:e,clientSelection:r,impact:tr(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Ht(e);ye(e)||N();const{id:r,newScroll:n}=t.payload,o=e.dimensions.droppables[r];if(!o)return e;const s=ur(o,n);return Vt(e,s,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;ye(e)||N();const{id:r,isEnabled:n}=t.payload,o=e.dimensions.droppables[r];o||N(),o.isEnabled===n&&N();const s={...o,isEnabled:n};return Vt(e,s,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;ye(e)||N();const{id:r,isCombineEnabled:n}=t.payload,o=e.dimensions.droppables[r];o||N(),o.isCombineEnabled===n&&N();const s={...o,isCombineEnabled:n};return Vt(e,s,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;ye(e)||N(),e.isWindowScrollAllowed||N();const r=t.payload.newScroll;if(me(e.viewport.scroll.current,r))return Ht(e);const n=io(e.viewport,r);return tr(e)?vo({state:e,viewport:n}):ke({state:e,viewport:n})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ye(e))return e;const r=t.payload.maxScroll;if(me(r,e.viewport.scroll.max))return e;const n={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:n}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&N();const r=ui({state:e,type:t.type});return r?ke({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const r=t.payload.reason;return e.phase!=="COLLECTING"&&N(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(t.type==="DROP_ANIMATE"){const{completed:r,dropDuration:n,newHomeClientOffset:o}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||N(),{phase:"DROP_ANIMATING",completed:r,dropDuration:n,newHomeClientOffset:o,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:r}=t.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e});const Pi=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),Ai=e=>({type:"LIFT",payload:e}),Ri=e=>({type:"INITIAL_PUBLISH",payload:e}),Oi=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),Bi=()=>({type:"COLLECTION_STARTING",payload:null}),Ti=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),Li=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),Mi=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),yo=e=>({type:"MOVE",payload:e}),$i=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),Fi=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),Gi=()=>({type:"MOVE_UP",payload:null}),ki=()=>({type:"MOVE_DOWN",payload:null}),_i=()=>({type:"MOVE_RIGHT",payload:null}),Wi=()=>({type:"MOVE_LEFT",payload:null}),br=()=>({type:"FLUSH",payload:null}),Ui=e=>({type:"DROP_ANIMATE",payload:e}),vr=e=>({type:"DROP_COMPLETE",payload:e}),So=e=>({type:"DROP",payload:e}),Vi=e=>({type:"DROP_PENDING",payload:e}),Do=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Hi=(e=>({getState:t,dispatch:r})=>n=>o=>{if(o.type!=="LIFT"){n(o);return}const{id:s,clientSelection:a,movementMode:l}=o.payload,c=t();c.phase==="DROP_ANIMATING"&&r(vr({completed:c.completed})),t().phase!=="IDLE"&&N(),r(br()),r(Pi({draggableId:s,movementMode:l}));const f={draggableId:s,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:u,dimensions:p,viewport:m}=e.startPublishing(f);r(Ri({critical:u,dimensions:p,clientSelection:a,movementMode:l,viewport:m}))}),qi=(e=>()=>t=>r=>{r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)});const xr={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},ze={opacity:{drop:0,combining:.7},scale:{drop:.75}},No={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},xe=`${No.outOfTheWay}s ${xr.outOfTheWay}`,_e={fluid:`opacity ${xe}`,snap:`transform ${xe}, opacity ${xe}`,drop:e=>{const t=`${e}s ${xr.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${xe}`,placeholder:`height ${xe}, width ${xe}, margin ${xe}`},gn=e=>me(e,_)?void 0:`translate(${e.x}px, ${e.y}px)`,rr={moveTo:gn,drop:(e,t)=>{const r=gn(e);if(r)return t?`${r} scale(${ze.scale.drop})`:r}},{minDropTime:nr,maxDropTime:Co}=No,zi=Co-nr,mn=1500,Yi=.6;var Ki=(({current:e,destination:t,reason:r})=>{const n=Ve(e,t);if(n<=0)return nr;if(n>=mn)return Co;const o=n/mn,s=nr+zi*o,a=r==="CANCEL"?s*Yi:s;return Number(a.toFixed(2))}),Xi=(({impact:e,draggable:t,dimensions:r,viewport:n,afterCritical:o})=>{const{draggables:s,droppables:a}=r,l=Z(e),c=l?a[l]:null,d=a[t.descriptor.droppableId],f=bo({impact:e,draggable:t,draggables:s,afterCritical:o,droppable:c||d,viewport:n});return Q(f,t.client.borderBox.center)}),Ji=(({draggables:e,reason:t,lastImpact:r,home:n,viewport:o,onLiftImpact:s})=>!r.at||t!=="DROP"?{impact:ho({draggables:e,impact:s,destination:n,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:He},didDropInsideDroppable:!0});const Qi=({getState:e,dispatch:t})=>r=>n=>{if(n.type!=="DROP"){r(n);return}const o=e(),s=n.payload.reason;if(o.phase==="COLLECTING"){t(Vi({reason:s}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&N(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||N();const l=o.critical,c=o.dimensions,d=c.draggables[o.critical.draggable.id],{impact:f,didDropInsideDroppable:u}=Ji({reason:s,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),p=u?dr(f):null,m=u?Et(f):null,h={index:l.draggable.index,droppableId:l.droppable.id},b={draggableId:d.descriptor.id,type:d.descriptor.type,source:h,reason:s,mode:o.movementMode,destination:p,combine:m},v=Xi({impact:f,draggable:d,dimensions:c,viewport:o.viewport,afterCritical:o.afterCritical}),C={critical:o.critical,afterCritical:o.afterCritical,result:b,impact:f};if(!(!me(o.current.client.offset,v)||!!b.combine)){t(vr({completed:C}));return}const w=Ki({current:o.current.client.offset,destination:v,reason:s});t(Ui({newHomeClientOffset:v,dropDuration:w,completed:C}))};var Zi=Qi,Io=(()=>({x:window.pageXOffset,y:window.pageYOffset}));function el(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function tl({onWindowScroll:e}){function t(){e(Io())}const r=Ue(t),n=el(r);let o=ge;function s(){return o!==ge}function a(){s()&&N(),o=ne(window,[n])}function l(){s()||N(),r.cancel(),o(),o=ge}return{start:a,stop:l,isActive:s}}const rl=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH",nl=e=>{const t=tl({onWindowScroll:r=>{e.dispatch($i({newScroll:r}))}});return r=>n=>{!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&rl(n)&&t.stop(),r(n)}};var ol=nl,sl=(e=>{let t=!1,r=!1;const n=setTimeout(()=>{r=!0}),o=s=>{t||r||(t=!0,e(s),clearTimeout(n))};return o.wasCalled=()=>t,o}),al=(()=>{const e=[],t=o=>{const s=e.findIndex(l=>l.timerId===o);s===-1&&N();const[a]=e.splice(s,1);a.callback()};return{add:o=>{const s=setTimeout(()=>t(s)),a={timerId:s,callback:o};e.push(a)},flush:()=>{if(!e.length)return;const o=[...e];e.length=0,o.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}});const il=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,ll=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,cl=(e,t)=>{if(e===t)return!0;const r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&n},Te=(e,t)=>{t()},ut=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function qt(e,t,r,n){if(!e){r(n(t));return}const o=sl(r);e(t,{announce:o}),o.wasCalled()||r(n(t))}var ul=((e,t)=>{const r=al();let n=null;const o=(u,p)=>{n&&N(),Te("onBeforeCapture",()=>{const m=e().onBeforeCapture;m&&m({draggableId:u,mode:p})})},s=(u,p)=>{n&&N(),Te("onBeforeDragStart",()=>{const m=e().onBeforeDragStart;m&&m(ut(u,p))})},a=(u,p)=>{n&&N();const m=ut(u,p);n={mode:p,lastCritical:u,lastLocation:m.source,lastCombine:null},r.add(()=>{Te("onDragStart",()=>qt(e().onDragStart,m,t,bt.onDragStart))})},l=(u,p)=>{const m=dr(p),h=Et(p);n||N();const b=!cl(u,n.lastCritical);b&&(n.lastCritical=u);const v=!il(n.lastLocation,m);v&&(n.lastLocation=m);const C=!ll(n.lastCombine,h);if(C&&(n.lastCombine=h),!b&&!v&&!C)return;const I={...ut(u,n.mode),combine:h,destination:m};r.add(()=>{Te("onDragUpdate",()=>qt(e().onDragUpdate,I,t,bt.onDragUpdate))})},c=()=>{n||N(),r.flush()},d=u=>{n||N(),n=null,Te("onDragEnd",()=>qt(e().onDragEnd,u,t,bt.onDragEnd))};return{beforeCapture:o,beforeStart:s,start:a,update:l,flush:c,drop:d,abort:()=>{if(!n)return;const u={...ut(n.lastCritical,n.mode),combine:null,destination:null,reason:"CANCEL"};d(u)}}}),dl=((e,t)=>{const r=ul(e,t);return n=>o=>s=>{if(s.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(s.type==="INITIAL_PUBLISH"){const l=s.payload.critical;r.beforeStart(l,s.payload.movementMode),o(s),r.start(l,s.payload.movementMode);return}if(s.type==="DROP_COMPLETE"){const l=s.payload.completed.result;r.flush(),o(s),r.drop(l);return}if(o(s),s.type==="FLUSH"){r.abort();return}const a=n.getState();a.phase==="DRAGGING"&&r.update(a.critical,a.impact)}});const pl=e=>t=>r=>{if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}const n=e.getState();n.phase!=="DROP_ANIMATING"&&N(),e.dispatch(vr({completed:n.completed}))};var fl=pl;const gl=e=>{let t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return o=>s=>{if((s.type==="FLUSH"||s.type==="DROP_COMPLETE"||s.type==="DROP_ANIMATION_FINISHED")&&n(),o(s),s.type!=="DROP_ANIMATE")return;const a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(Do())}};r=requestAnimationFrame(()=>{r=null,t=ne(window,[a])})}};var ml=gl,hl=(e=>()=>t=>r=>{(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}),bl=(e=>{let t=!1;return()=>r=>n=>{if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;const o=n.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}});const vl=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH";var xl=(e=>t=>r=>n=>{if(vl(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);const o=t.getState();o.phase!=="DRAGGING"&&N(),e.start(o);return}r(n),e.scroll(t.getState())});const yl=e=>t=>r=>{if(t(r),r.type!=="PUBLISH_WHILE_DRAGGING")return;const n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(So({reason:n.reason})))};var Sl=yl;const Dl=Fn;var Nl=(({dimensionMarshal:e,focusMarshal:t,styleMarshal:r,getResponders:n,announce:o,autoScroller:s})=>$n(Ei,Dl(Rs(qi(r),hl(e),Hi(e),Zi,fl,ml,Sl,xl(s),ol,bl(t),dl(n,o)))));const zt=()=>({additions:{},removals:{},modified:{}});function Cl({registry:e,callbacks:t}){let r=zt(),n=null;const o=()=>{n||(t.collectionStarting(),n=requestAnimationFrame(()=>{n=null;const{additions:c,removals:d,modified:f}=r,u=Object.keys(c).map(h=>e.draggable.getById(h).getDimension(_)).sort((h,b)=>h.descriptor.index-b.descriptor.index),p=Object.keys(f).map(h=>{const v=e.droppable.getById(h).callbacks.getScrollWhileDragging();return{droppableId:h,scroll:v}}),m={additions:u,removals:Object.keys(d),modified:p};r=zt(),t.publish(m)}))};return{add:c=>{const d=c.descriptor.id;r.additions[d]=c,r.modified[c.descriptor.droppableId]=!0,r.removals[d]&&delete r.removals[d],o()},remove:c=>{const d=c.descriptor;r.removals[d.id]=!0,r.modified[d.droppableId]=!0,r.additions[d.id]&&delete r.additions[d.id],o()},stop:()=>{n&&(cancelAnimationFrame(n),n=null,r=zt())}}}var wo=(({scrollHeight:e,scrollWidth:t,height:r,width:n})=>{const o=Q({x:t,y:e},{x:n,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}}),jo=(()=>{const e=document.documentElement;return e||N(),e}),Eo=(()=>{const e=jo();return wo({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})}),Il=(()=>{const e=Io(),t=Eo(),r=e.y,n=e.x,o=jo(),s=o.clientWidth,a=o.clientHeight,l=n+s,c=r+a;return{frame:se({top:r,left:n,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:_,displacement:_}}}}),wl=(({critical:e,scrollOptions:t,registry:r})=>{const n=Il(),o=n.scroll.current,s=e.droppable,a=r.droppable.getAllByType(s.type).map(f=>f.callbacks.getDimensionAndWatchScroll(o,t)),l=r.draggable.getAllByType(e.draggable.type).map(f=>f.getDimension(o));return{dimensions:{draggables:to(l),droppables:eo(a)},critical:e,viewport:n}});function hn(e,t,r){return!(r.descriptor.id===t.id||r.descriptor.type!==t.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var jl=((e,t)=>{let r=null;const n=Cl({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=(p,m)=>{e.droppable.exists(p)||N(),r&&t.updateDroppableIsEnabled({id:p,isEnabled:m})},s=(p,m)=>{r&&(e.droppable.exists(p)||N(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:m}))},a=(p,m)=>{r&&(e.droppable.exists(p)||N(),t.updateDroppableScroll({id:p,newScroll:m}))},l=(p,m)=>{r&&e.droppable.getById(p).callbacks.scroll(m)},c=()=>{if(!r)return;n.stop();const p=r.critical.droppable;e.droppable.getAllByType(p.type).forEach(m=>m.callbacks.dragStopped()),r.unsubscribe(),r=null},d=p=>{r||N();const m=r.critical.draggable;p.type==="ADDITION"&&hn(e,m,p.value)&&n.add(p.value),p.type==="REMOVAL"&&hn(e,m,p.value)&&n.remove(p.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:s,scrollDroppable:l,updateDroppableScroll:a,startPublishing:p=>{r&&N();const m=e.draggable.getById(p.draggableId),h=e.droppable.getById(m.descriptor.droppableId),b={draggable:m.descriptor,droppable:h.descriptor},v=e.subscribe(d);return r={critical:b,unsubscribe:v},wl({critical:b,registry:e,scrollOptions:p.scrollOptions})},stopPublishing:c}}),Po=((e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"),El=(e=>{window.scrollBy(e.x,e.y)});const Pl=k(e=>jt(e).filter(t=>!(!t.isEnabled||!t.frame))),Al=(e,t)=>Pl(t).find(n=>(n.frame||N(),po(n.frame.pageMarginBox)(e)))||null;var Rl=(({center:e,destination:t,droppables:r})=>{if(t){const o=r[t];return o.frame?o:null}return Al(e,r)});const Ye={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Ol=((e,t,r=()=>Ye)=>{const n=r(),o=e[t.size]*n.startFromPercentage,s=e[t.size]*n.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:s}}),Ao=(({startOfRange:e,endOfRange:t,current:r})=>{const n=t-e;return n===0?0:(r-e)/n}),yr=1,Bl=((e,t,r=()=>Ye)=>{const n=r();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return n.maxPixelScroll;if(e===t.startScrollingFrom)return yr;const s=1-Ao({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),a=n.maxPixelScroll*n.ease(s);return Math.ceil(a)}),Tl=((e,t,r)=>{const n=r(),o=n.durationDampening.accelerateAt,s=n.durationDampening.stopDampeningAt,a=t,l=s,d=Date.now()-a;if(d>=s)return e;if(d<o)return yr;const f=Ao({startOfRange:o,endOfRange:l,current:d}),u=e*n.ease(f);return Math.ceil(u)}),bn=(({distanceToEdge:e,thresholds:t,dragStartTime:r,shouldUseTimeDampening:n,getAutoScrollerOptions:o})=>{const s=Bl(e,t,o);return s===0?0:n?Math.max(Tl(s,r,o),yr):s}),vn=(({container:e,distanceToEdges:t,dragStartTime:r,axis:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const a=Ol(e,n,s);return t[n.end]<t[n.start]?bn({distanceToEdge:t[n.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s}):-1*bn({distanceToEdge:t[n.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s})}),Ll=(({container:e,subject:t,proposedScroll:r})=>{const n=t.height>e.height,o=t.width>e.width;return!o&&!n?r:o&&n?null:{x:o?0:r.x,y:n?0:r.y}});const Ml=Zn(e=>e===0?0:e);var Ro=(({dragStartTime:e,container:t,subject:r,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const a={top:n.y-t.top,right:t.right-n.x,bottom:t.bottom-n.y,left:n.x-t.left},l=vn({container:t,distanceToEdges:a,dragStartTime:e,axis:pr,shouldUseTimeDampening:o,getAutoScrollerOptions:s}),c=vn({container:t,distanceToEdges:a,dragStartTime:e,axis:oo,shouldUseTimeDampening:o,getAutoScrollerOptions:s}),d=Ml({x:c,y:l});if(me(d,_))return null;const f=Ll({container:t,subject:r,proposedScroll:d});return f?me(f,_)?null:f:null});const $l=Zn(e=>e===0?0:e>0?1:-1),Sr=(()=>{const e=(t,r)=>t<0?t:t>r?t-r:0;return({current:t,max:r,change:n})=>{const o=U(t,n),s={x:e(o.x,r.x),y:e(o.y,r.y)};return me(s,_)?null:s}})(),Oo=({max:e,current:t,change:r})=>{const n={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},o=$l(r),s=Sr({max:n,current:t,change:o});return!s||o.x!==0&&s.x===0||o.y!==0&&s.y===0},Dr=(e,t)=>Oo({current:e.scroll.current,max:e.scroll.max,change:t}),Fl=(e,t)=>{if(!Dr(e,t))return null;const r=e.scroll.max,n=e.scroll.current;return Sr({current:n,max:r,change:t})},Nr=(e,t)=>{const r=e.frame;return r?Oo({current:r.scroll.current,max:r.scroll.max,change:t}):!1},Gl=(e,t)=>{const r=e.frame;return!r||!Nr(e,t)?null:Sr({current:r.scroll.current,max:r.scroll.max,change:t})};var kl=(({viewport:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const a=Ro({dragStartTime:n,container:e.frame,subject:t,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s});return a&&Dr(e,a)?a:null}),_l=(({droppable:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:s})=>{const a=e.frame;if(!a)return null;const l=Ro({dragStartTime:n,container:a.pageMarginBox,subject:t,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s});return l&&Nr(e,l)?l:null}),xn=(({state:e,dragStartTime:t,shouldUseTimeDampening:r,scrollWindow:n,scrollDroppable:o,getAutoScrollerOptions:s})=>{const a=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const u=e.viewport,p=kl({dragStartTime:t,viewport:u,subject:c,center:a,shouldUseTimeDampening:r,getAutoScrollerOptions:s});if(p){n(p);return}}const d=Rl({center:a,destination:Z(e.impact),droppables:e.dimensions.droppables});if(!d)return;const f=_l({dragStartTime:t,droppable:d,subject:c,center:a,shouldUseTimeDampening:r,getAutoScrollerOptions:s});f&&o(d.descriptor.id,f)}),Wl=(({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r=()=>Ye})=>{const n=Ue(e),o=Ue(t);let s=null;const a=d=>{s||N();const{shouldUseTimeDampening:f,dragStartTime:u}=s;xn({state:d,scrollWindow:n,scrollDroppable:o,dragStartTime:u,shouldUseTimeDampening:f,getAutoScrollerOptions:r})};return{start:d=>{s&&N();const f=Date.now();let u=!1;const p=()=>{u=!0};xn({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p,getAutoScrollerOptions:r}),s={dragStartTime:f,shouldUseTimeDampening:u},u&&a(d)},stop:()=>{s&&(n.cancel(),o.cancel(),s=null)},scroll:a}}),Ul=(({move:e,scrollDroppable:t,scrollWindow:r})=>{const n=(l,c)=>{const d=U(l.current.client.selection,c);e({client:d})},o=(l,c)=>{if(!Nr(l,c))return c;const d=Gl(l,c);if(!d)return t(l.descriptor.id,c),null;const f=Q(c,d);return t(l.descriptor.id,f),Q(c,f)},s=(l,c,d)=>{if(!l||!Dr(c,d))return d;const f=Fl(c,d);if(!f)return r(d),null;const u=Q(d,f);return r(u),Q(d,u)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const d=Z(l.impact);d||N();const f=o(l.dimensions.droppables[d],c);if(!f)return;const u=l.viewport,p=s(l.isWindowScrollAllowed,u,f);p&&n(l,p)}}),Vl=(({scrollDroppable:e,scrollWindow:t,move:r,getAutoScrollerOptions:n})=>{const o=Wl({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n}),s=Ul({move:r,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(n().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){o.scroll(c);return}c.scrollJumpRequest&&s(c)}},start:o.start,stop:o.stop}});const Ie="data-rfd",we=(()=>{const e=`${Ie}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),or=(()=>{const e=`${Ie}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Hl=(()=>{const e=`${Ie}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),yn={contextId:`${Ie}-scroll-container-context-id`},ql=e=>t=>`[${t}="${e}"]`,Le=(e,t)=>e.map(r=>{const n=r.styles[t];return n?`${r.selector} { ${n} }`:""}).join(" "),zl="pointer-events: none;";var Yl=(e=>{const t=ql(e),r=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(we.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:zl,dropAnimating:l}}})(),n=(()=>{const l=`
      transition: ${_e.outOfTheWay};
    `;return{selector:t(or.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),o={selector:t(Hl.contextId),styles:{always:"overflow-anchor: none;"}},a=[n,r,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Le(a,"always"),resting:Le(a,"resting"),dragging:Le(a,"dragging"),dropAnimating:Le(a,"dropAnimating"),userCancel:Le(a,"userCancel")}});const Kl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?S.useLayoutEffect:S.useEffect;var ee=Kl;const Yt=()=>{const e=document.querySelector("head");return e||N(),e},Sn=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Xl(e,t){const r=B(()=>Yl(e),[e]),n=S.useRef(null),o=S.useRef(null),s=P(k(u=>{const p=o.current;p||N(),p.textContent=u}),[]),a=P(u=>{const p=n.current;p||N(),p.textContent=u},[]);ee(()=>{!n.current&&!o.current||N();const u=Sn(t),p=Sn(t);return n.current=u,o.current=p,u.setAttribute(`${Ie}-always`,e),p.setAttribute(`${Ie}-dynamic`,e),Yt().appendChild(u),Yt().appendChild(p),a(r.always),s(r.resting),()=>{const m=h=>{const b=h.current;b||N(),Yt().removeChild(b),h.current=null};m(n),m(o)}},[t,a,s,r.always,r.resting,e]);const l=P(()=>s(r.dragging),[s,r.dragging]),c=P(u=>{if(u==="DROP"){s(r.dropAnimating);return}s(r.userCancel)},[s,r.dropAnimating,r.userCancel]),d=P(()=>{o.current&&s(r.resting)},[s,r.resting]);return B(()=>({dragging:l,dropping:c,resting:d}),[l,c,d])}function Bo(e,t){return Array.from(e.querySelectorAll(t))}var To=(e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window);function Rt(e){return e instanceof To(e).HTMLElement}function Jl(e,t){const r=`[${we.contextId}="${e}"]`,n=Bo(document,r);if(!n.length)return null;const o=n.find(s=>s.getAttribute(we.draggableId)===t);return!o||!Rt(o)?null:o}function Ql(e){const t=S.useRef({}),r=S.useRef(null),n=S.useRef(null),o=S.useRef(!1),s=P(function(p,m){const h={id:p,focus:m};return t.current[p]=h,function(){const v=t.current;v[p]!==h&&delete v[p]}},[]),a=P(function(p){const m=Jl(e,p);m&&m!==document.activeElement&&m.focus()},[e]),l=P(function(p,m){r.current===p&&(r.current=m)},[]),c=P(function(){n.current||o.current&&(n.current=requestAnimationFrame(()=>{n.current=null;const p=r.current;p&&a(p)}))},[a]),d=P(function(p){r.current=null;const m=document.activeElement;m&&m.getAttribute(we.draggableId)===p&&(r.current=p)},[]);return ee(()=>(o.current=!0,function(){o.current=!1;const p=n.current;p&&cancelAnimationFrame(p)}),[]),B(()=>({register:s,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[s,d,c,l])}function Zl(){const e={draggables:{},droppables:{}},t=[];function r(u){return t.push(u),function(){const m=t.indexOf(u);m!==-1&&t.splice(m,1)}}function n(u){t.length&&t.forEach(p=>p(u))}function o(u){return e.draggables[u]||null}function s(u){const p=o(u);return p||N(),p}const a={register:u=>{e.draggables[u.descriptor.id]=u,n({type:"ADDITION",value:u})},update:(u,p)=>{const m=e.draggables[p.descriptor.id];m&&m.uniqueId===u.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[u.descriptor.id]=u)},unregister:u=>{const p=u.descriptor.id,m=o(p);m&&u.uniqueId===m.uniqueId&&(delete e.draggables[p],e.droppables[u.descriptor.droppableId]&&n({type:"REMOVAL",value:u}))},getById:s,findById:o,exists:u=>!!o(u),getAllByType:u=>Object.values(e.draggables).filter(p=>p.descriptor.type===u)};function l(u){return e.droppables[u]||null}function c(u){const p=l(u);return p||N(),p}const d={register:u=>{e.droppables[u.descriptor.id]=u},unregister:u=>{const p=l(u.descriptor.id);p&&u.uniqueId===p.uniqueId&&delete e.droppables[u.descriptor.id]},getById:c,findById:l,exists:u=>!!l(u),getAllByType:u=>Object.values(e.droppables).filter(p=>p.descriptor.type===u)};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:a,droppable:d,subscribe:r,clean:f}}function ec(){const e=B(Zl,[]);return S.useEffect(()=>function(){$.version.startsWith("16")||$.version.startsWith("17")?requestAnimationFrame(e.clean):e.clean()},[e]),e}var Cr=$.createContext(null),Ct=(()=>{const e=document.body;return e||N(),e});const tc={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var rc=tc;const nc=e=>`rfd-announcement-${e}`;function oc(e){const t=B(()=>nc(e),[e]),r=S.useRef(null);return S.useEffect(function(){const s=document.createElement("div");return r.current=s,s.id=t,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),fe(s.style,rc),Ct().appendChild(s),function(){setTimeout(function(){const c=Ct();c.contains(s)&&c.removeChild(s),s===r.current&&(r.current=null)})}},[t]),P(o=>{const s=r.current;if(s){s.textContent=o;return}},[])}let sc=0;const Lo={separator:"::"};function ac(e,t=Lo){return B(()=>`${e}${t.separator}${sc++}`,[t.separator,e])}function ic(e,t=Lo){const r=$.useId();return B(()=>`${e}${t.separator}${r}`,[t.separator,e,r])}var Ir="useId"in $?ic:ac;function lc({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function cc({contextId:e,text:t}){const r=Ir("hidden-text",{separator:"-"}),n=B(()=>lc({contextId:e,uniqueId:r}),[r,e]);return S.useEffect(function(){const s=document.createElement("div");return s.id=n,s.textContent=t,s.style.display="none",Ct().appendChild(s),function(){const l=Ct();l.contains(s)&&l.removeChild(s)}},[n,t]),n}var Ot=$.createContext(null);function Mo(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),t}function uc(){let e=null;function t(){return!!e}function r(a){return a===e}function n(a){e&&N();const l={abandon:a};return e=l,l}function o(){e||N(),e=null}function s(){e&&(e.abandon(),o())}return{isClaimed:t,isActive:r,claim:n,release:o,tryAbandon:s}}function Ke(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const dc=9,pc=13,wr=27,$o=32,fc=33,gc=34,mc=35,hc=36,bc=37,vc=38,xc=39,yc=40,Sc={[pc]:!0,[dc]:!0};var Fo=(e=>{Sc[e.keyCode]&&e.preventDefault()});const Dc=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(n=>`on${n}`in document)||e})();var Bt=Dc;const Go=0,Dn=5;function Nc(e,t){return Math.abs(t.x-e.x)>=Dn||Math.abs(t.y-e.y)>=Dn}const Nn={type:"IDLE"};function Cc({cancel:e,completed:t,getPhase:r,setPhase:n}){return[{eventName:"mousemove",fn:o=>{const{button:s,clientX:a,clientY:l}=o;if(s!==Go)return;const c={x:a,y:l},d=r();if(d.type==="DRAGGING"){o.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&N();const f=d.point;if(!Nc(f,c))return;o.preventDefault();const u=d.actions.fluidLift(c);n({type:"DRAGGING",actions:u})}},{eventName:"mouseup",fn:o=>{const s=r();if(s.type!=="DRAGGING"){e();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:o=>{r().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:o=>{if(r().type==="PENDING"){e();return}if(o.keyCode===wr){o.preventDefault(),e();return}Fo(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:o=>{const s=r();if(s.type==="IDLE"&&N(),s.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:Bt,fn:e}]}function Ic(e){const t=S.useRef(Nn),r=S.useRef(ge),n=B(()=>({eventName:"mousedown",fn:function(u){if(u.defaultPrevented||u.button!==Go||u.ctrlKey||u.metaKey||u.shiftKey||u.altKey)return;const p=e.findClosestDraggableId(u);if(!p)return;const m=e.tryGetLock(p,a,{sourceEvent:u});if(!m)return;u.preventDefault();const h={x:u.clientX,y:u.clientY};r.current(),d(m,h)}}),[e]),o=B(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const u=e.findClosestDraggableId(f);if(!u)return;const p=e.findOptionsForDraggable(u);p&&(p.shouldRespectForcePress||e.canGetLock(u)&&f.preventDefault())}}),[e]),s=P(function(){const u={passive:!1,capture:!0};r.current=ne(window,[o,n],u)},[o,n]),a=P(()=>{t.current.type!=="IDLE"&&(t.current=Nn,r.current(),s())},[s]),l=P(()=>{const f=t.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),c=P(function(){const u={capture:!0,passive:!1},p=Cc({cancel:l,completed:a,getPhase:()=>t.current,setPhase:m=>{t.current=m}});r.current=ne(window,p,u)},[l,a]),d=P(function(u,p){t.current.type!=="IDLE"&&N(),t.current={type:"PENDING",point:p,actions:u},c()},[c]);ee(function(){return s(),function(){r.current()}},[s])}function wc(){}const jc={[gc]:!0,[fc]:!0,[hc]:!0,[mc]:!0};function Ec(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===wr){o.preventDefault(),r();return}if(o.keyCode===$o){o.preventDefault(),n();return}if(o.keyCode===yc){o.preventDefault(),e.moveDown();return}if(o.keyCode===vc){o.preventDefault(),e.moveUp();return}if(o.keyCode===xc){o.preventDefault(),e.moveRight();return}if(o.keyCode===bc){o.preventDefault(),e.moveLeft();return}if(jc[o.keyCode]){o.preventDefault();return}Fo(o)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Bt,fn:r}]}function Pc(e){const t=S.useRef(wc),r=B(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==$o)return;const a=e.findClosestDraggableId(s);if(!a)return;const l=e.tryGetLock(a,f,{sourceEvent:s});if(!l)return;s.preventDefault();let c=!0;const d=l.snapLift();t.current();function f(){c||N(),c=!1,t.current(),n()}t.current=ne(window,Ec(d,f),{capture:!0,passive:!1})}}),[e]),n=P(function(){const s={passive:!1,capture:!0};t.current=ne(window,[r],s)},[r]);ee(function(){return n(),function(){t.current()}},[n])}const Kt={type:"IDLE"},Ac=120,Rc=.15;function Oc({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(t().type!=="DRAGGING"){e();return}r.keyCode===wr&&r.preventDefault(),e()}},{eventName:Bt,fn:e}]}function Bc({cancel:e,completed:t,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:n=>{const o=r();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;const{clientX:s,clientY:a}=n.touches[0],l={x:s,y:a};n.preventDefault(),o.actions.move(l)}},{eventName:"touchend",fn:n=>{const o=r();if(o.type!=="DRAGGING"){e();return}n.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:n=>{if(r().type!=="DRAGGING"){e();return}n.preventDefault(),e()}},{eventName:"touchforcechange",fn:n=>{const o=r();o.type==="IDLE"&&N();const s=n.touches[0];if(!s||!(s.force>=Rc))return;const l=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){l&&e();return}if(l){if(o.hasMoved){n.preventDefault();return}e();return}n.preventDefault()}},{eventName:Bt,fn:e}]}function Tc(e){const t=S.useRef(Kt),r=S.useRef(ge),n=P(function(){return t.current},[]),o=P(function(m){t.current=m},[]),s=B(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const h=e.findClosestDraggableId(m);if(!h)return;const b=e.tryGetLock(h,l,{sourceEvent:m});if(!b)return;const v=m.touches[0],{clientX:C,clientY:I}=v,w={x:C,y:I};r.current(),u(b,w)}}),[e]),a=P(function(){const m={capture:!0,passive:!1};r.current=ne(window,[s],m)},[s]),l=P(()=>{const p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),o(Kt),r.current(),a())},[a,o]),c=P(()=>{const p=t.current;l(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[l]),d=P(function(){const m={capture:!0,passive:!1},h={cancel:c,completed:l,getPhase:n},b=ne(window,Bc(h),m),v=ne(window,Oc(h),m);r.current=function(){b(),v()}},[c,n,l]),f=P(function(){const m=n();m.type!=="PENDING"&&N();const h=m.actions.fluidLift(m.point);o({type:"DRAGGING",actions:h,hasMoved:!1})},[n,o]),u=P(function(m,h){n().type!=="IDLE"&&N();const b=setTimeout(f,Ac);o({type:"PENDING",point:h,actions:m,longPressTimerId:b}),d()},[d,n,o,f]);ee(function(){return a(),function(){r.current();const h=n();h.type==="PENDING"&&(clearTimeout(h.longPressTimerId),o(Kt))}},[n,a,o]),ee(function(){return ne(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Lc=["input","button","textarea","select","option","optgroup","video","audio"];function ko(e,t){if(t==null)return!1;if(Lc.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:ko(e,t.parentElement)}function Mc(e,t){const r=t.target;return Rt(r)?ko(e,r):!1}var $c=(e=>se(e.getBoundingClientRect()).center);function Fc(e){return e instanceof To(e).Element}const Gc=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(n=>n in Element.prototype)||e})();function _o(e,t){return e==null?null:e[Gc](t)?e:_o(e.parentElement,t)}function kc(e,t){return e.closest?e.closest(t):_o(e,t)}function _c(e){return`[${we.contextId}="${e}"]`}function Wc(e,t){const r=t.target;if(!Fc(r))return null;const n=_c(e),o=kc(r,n);return!o||!Rt(o)?null:o}function Uc(e,t){const r=Wc(e,t);return r?r.getAttribute(we.draggableId):null}function Vc(e,t){const r=`[${or.contextId}="${e}"]`,o=Bo(document,r).find(s=>s.getAttribute(or.id)===t);return!o||!Rt(o)?null:o}function Hc(e){e.preventDefault()}function dt({expected:e,phase:t,isLockActive:r,shouldWarn:n}){return!(!r()||e!==t)}function Wo({lockAPI:e,store:t,registry:r,draggableId:n}){if(e.isClaimed())return!1;const o=r.draggable.findById(n);return!(!o||!o.options.isEnabled||!Po(t.getState(),n))}function qc({lockAPI:e,contextId:t,store:r,registry:n,draggableId:o,forceSensorStop:s,sourceEvent:a}){if(!Wo({lockAPI:e,store:r,registry:n,draggableId:o}))return null;const c=n.draggable.getById(o),d=Vc(t,c.descriptor.id);if(!d||a&&!c.options.canDragInteractiveElements&&Mc(d,a))return null;const f=e.claim(s||ge);let u="PRE_DRAG";function p(){return c.options.shouldRespectForcePress}function m(){return e.isActive(f)}function h(y,E){dt({expected:y,phase:u,isLockActive:m,shouldWarn:!0})&&r.dispatch(E())}const b=h.bind(null,"DRAGGING");function v(y){function E(){e.release(),u="COMPLETED"}u!=="PRE_DRAG"&&(E(),N()),r.dispatch(Ai(y.liftActionArgs)),u="DRAGGING";function R(O,V={shouldBlockNextClick:!1}){if(y.cleanup(),V.shouldBlockNextClick){const M=ne(window,[{eventName:"click",fn:Hc,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(M)}E(),r.dispatch(So({reason:O}))}return{isActive:()=>dt({expected:"DRAGGING",phase:u,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:p,drop:O=>R("DROP",O),cancel:O=>R("CANCEL",O),...y.actions}}function C(y){const E=Ue(O=>{b(()=>yo({client:O}))});return{...v({liftActionArgs:{id:o,clientSelection:y,movementMode:"FLUID"},cleanup:()=>E.cancel(),actions:{move:E}}),move:E}}function I(){const y={moveUp:()=>b(Gi),moveRight:()=>b(_i),moveDown:()=>b(ki),moveLeft:()=>b(Wi)};return v({liftActionArgs:{id:o,clientSelection:$c(d),movementMode:"SNAP"},cleanup:ge,actions:y})}function w(){dt({expected:"PRE_DRAG",phase:u,isLockActive:m,shouldWarn:!0})&&e.release()}return{isActive:()=>dt({expected:"PRE_DRAG",phase:u,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:p,fluidLift:C,snapLift:I,abort:w}}const zc=[Ic,Pc,Tc];function Yc({contextId:e,store:t,registry:r,customSensors:n,enableDefaultSensors:o}){const s=[...o?zc:[],...n||[]],a=S.useState(()=>uc())[0],l=P(function(v,C){Ke(v)&&!Ke(C)&&a.tryAbandon()},[a]);ee(function(){let v=t.getState();return t.subscribe(()=>{const I=t.getState();l(v,I),v=I})},[a,t,l]),ee(()=>a.tryAbandon,[a.tryAbandon]);const c=P(b=>Wo({lockAPI:a,registry:r,store:t,draggableId:b}),[a,r,t]),d=P((b,v,C)=>qc({lockAPI:a,registry:r,contextId:e,store:t,draggableId:b,forceSensorStop:v||null,sourceEvent:C&&C.sourceEvent?C.sourceEvent:null}),[e,a,r,t]),f=P(b=>Uc(e,b),[e]),u=P(b=>{const v=r.draggable.findById(b);return v?v.options:null},[r.draggable]),p=P(function(){a.isClaimed()&&(a.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(br()))},[a,t]),m=P(()=>a.isClaimed(),[a]),h=B(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:u,tryReleaseLock:p,isLockClaimed:m}),[c,d,f,u,p,m]);for(let b=0;b<s.length;b++)s[b](h)}const Kc=e=>({onBeforeCapture:t=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};$.version.startsWith("16")||$.version.startsWith("17")?r():ar.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Xc=e=>({...Ye,...e.autoScrollerOptions,durationDampening:{...Ye.durationDampening,...e.autoScrollerOptions}});function Me(e){return e.current||N(),e.current}function Jc(e){const{contextId:t,setCallbacks:r,sensors:n,nonce:o,dragHandleUsageInstructions:s}=e,a=S.useRef(null),l=Mo(e),c=P(()=>Kc(l.current),[l]),d=P(()=>Xc(l.current),[l]),f=oc(t),u=cc({contextId:t,text:s}),p=Xl(t,o),m=P(M=>{Me(a).dispatch(M)},[]),h=B(()=>Wr({publishWhileDragging:Oi,updateDroppableScroll:Ti,updateDroppableIsEnabled:Li,updateDroppableIsCombineEnabled:Mi,collectionStarting:Bi},m),[m]),b=ec(),v=B(()=>jl(b,h),[b,h]),C=B(()=>Vl({scrollWindow:El,scrollDroppable:v.scrollDroppable,getAutoScrollerOptions:d,...Wr({move:yo},m)}),[v.scrollDroppable,m,d]),I=Ql(t),w=B(()=>Nl({announce:f,autoScroller:C,dimensionMarshal:v,focusMarshal:I,getResponders:c,styleMarshal:p}),[f,C,v,I,c,p]);a.current=w;const j=P(()=>{const M=Me(a);M.getState().phase!=="IDLE"&&M.dispatch(br())},[]),y=P(()=>{const M=Me(a).getState();return M.phase==="DROP_ANIMATING"?!0:M.phase==="IDLE"?!1:M.isDragging},[]),E=B(()=>({isDragging:y,tryAbort:j}),[y,j]);r(E);const R=P(M=>Po(Me(a).getState(),M),[]),O=P(()=>ye(Me(a).getState()),[]),V=B(()=>({marshal:v,focus:I,contextId:t,canLift:R,isMovementAllowed:O,dragHandleUsageInstructionsId:u,registry:b}),[t,v,u,I,R,O,b]);return Yc({contextId:t,store:w,registry:b,customSensors:n||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),S.useEffect(()=>j,[j]),$.createElement(Ot.Provider,{value:V},$.createElement(ca,{context:Cr,store:w},e.children))}let Qc=0;function Zc(){return B(()=>`${Qc++}`,[])}function eu(){return $.useId()}var tu="useId"in $?eu:Zc;function ru(e){const t=tu(),r=e.dragHandleUsageInstructions||bt.dragHandleUsageInstructions;return $.createElement(va,null,n=>$.createElement(Jc,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const Cn={dragging:5e3,dropAnimating:4500},nu=(e,t)=>t?_e.drop(t.duration):e?_e.snap:_e.fluid,ou=(e,t)=>{if(e)return t?ze.opacity.drop:ze.opacity.combining},su=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function au(e){const r=e.dimension.client,{offset:n,combineWith:o,dropping:s}=e,a=!!o,l=su(e),c=!!s,d=c?rr.drop(n,a):rr.moveTo(n);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:nu(l,s),transform:d,opacity:ou(a,c),zIndex:c?Cn.dropAnimating:Cn.dragging,pointerEvents:"none"}}function iu(e){return{transform:rr.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function lu(e){return e.type==="DRAGGING"?au(e):iu(e)}function cu(e,t,r=_){const n=window.getComputedStyle(t),o=t.getBoundingClientRect(),s=Yn(o,n),a=yt(s,r),l={client:s,tagName:t.tagName.toLowerCase(),display:n.display},c={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:s,page:a}}function uu(e){const t=Ir("draggable"),{descriptor:r,registry:n,getDraggableRef:o,canDragInteractiveElements:s,shouldRespectForcePress:a,isEnabled:l}=e,c=B(()=>({canDragInteractiveElements:s,shouldRespectForcePress:a,isEnabled:l}),[s,l,a]),d=P(m=>{const h=o();return h||N(),cu(r,h,m)},[r,o]),f=B(()=>({uniqueId:t,descriptor:r,options:c,getDimension:d}),[r,d,c,t]),u=S.useRef(f),p=S.useRef(!0);ee(()=>(n.draggable.register(u.current),()=>n.draggable.unregister(u.current)),[n.draggable]),ee(()=>{if(p.current){p.current=!1;return}const m=u.current;u.current=f,n.draggable.update(f,m)},[f,n.draggable])}var jr=$.createContext(null);function It(e){const t=S.useContext(e);return t||N(),t}function du(e){e.preventDefault()}const pu=e=>{const t=S.useRef(null),r=P((E=null)=>{t.current=E},[]),n=P(()=>t.current,[]),{contextId:o,dragHandleUsageInstructionsId:s,registry:a}=It(Ot),{type:l,droppableId:c}=It(jr),d=B(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:f,draggableId:u,isEnabled:p,shouldRespectForcePress:m,canDragInteractiveElements:h,isClone:b,mapped:v,dropAnimationFinished:C}=e;if(!b){const E=B(()=>({descriptor:d,registry:a,getDraggableRef:n,canDragInteractiveElements:h,shouldRespectForcePress:m,isEnabled:p}),[d,a,n,h,m,p]);uu(E)}const I=B(()=>p?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":u,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:du}:null,[o,s,u,p]),w=P(E=>{v.type==="DRAGGING"&&v.dropping&&E.propertyName==="transform"&&($.version.startsWith("16")||$.version.startsWith("17")?C():ar.flushSync(C))},[C,v]),j=B(()=>{const E=lu(v),R=v.type==="DRAGGING"&&v.dropping?w:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":u,style:E,onTransitionEnd:R},dragHandleProps:I}},[o,I,u,v,w,r]),y=B(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return $.createElement($.Fragment,null,f(j,v.snapshot,y))};var fu=pu,Uo=((e,t)=>e===t),Vo=(e=>{const{combine:t,destination:r}=e;return r?r.droppableId:t?t.droppableId:null});const gu=e=>e.combine?e.combine.draggableId:null,mu=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function hu(){const e=k((o,s)=>({x:o,y:s})),t=k((o,s,a=null,l=null,c=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!c,dropAnimation:c,mode:o,draggingOver:a,combineWith:l,combineTargetFor:null})),r=k((o,s,a,l,c=null,d=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:s,offset:o,dimension:a,forceShouldAnimate:f,snapshot:t(s,l,c,d,null)}}));return(o,s)=>{if(Ke(o)){if(o.critical.draggable.id!==s.draggableId)return null;const a=o.current.client.offset,l=o.dimensions.draggables[s.draggableId],c=Z(o.impact),d=mu(o.impact),f=o.forceShouldAnimate;return r(e(a.x,a.y),o.movementMode,l,s.isClone,c,d,f)}if(o.phase==="DROP_ANIMATING"){const a=o.completed;if(a.result.draggableId!==s.draggableId)return null;const l=s.isClone,c=o.dimensions.draggables[s.draggableId],d=a.result,f=d.mode,u=Vo(d),p=gu(d),h={duration:o.dropDuration,curve:xr.drop,moveTo:o.newHomeClientOffset,opacity:p?ze.opacity.drop:null,scale:p?ze.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:c,dropping:h,draggingOver:u,combineWith:p,mode:f,forceShouldAnimate:null,snapshot:t(f,l,u,p,h)}}}return null}}function Ho(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const bu={mapped:{type:"SECONDARY",offset:_,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Ho(null)}};function vu(){const e=k((a,l)=>({x:a,y:l})),t=k(Ho),r=k((a,l=null,c)=>({mapped:{type:"SECONDARY",offset:a,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),n=a=>a?r(_,a,!0):null,o=(a,l,c,d)=>{const f=c.displaced.visible[a],u=!!(d.inVirtualList&&d.effected[a]),p=Et(c),m=p&&p.draggableId===a?l:null;if(!f){if(!u)return n(m);if(c.displaced.invisible[a])return null;const v=je(d.displacedBy.point),C=e(v.x,v.y);return r(C,m,!0)}if(u)return n(m);const h=c.displacedBy.point,b=e(h.x,h.y);return r(b,m,f.shouldAnimate)};return(a,l)=>{if(Ke(a))return a.critical.draggable.id===l.draggableId?null:o(l.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){const c=a.completed;return c.result.draggableId===l.draggableId?null:o(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const xu=()=>{const e=hu(),t=vu();return(n,o)=>e(n,o)||t(n,o)||bu},yu={dropAnimationFinished:Do},Su=qn(xu,yu,null,{context:Cr,areStatePropsEqual:Uo})(fu);var Du=Su;function qo(e){return It(jr).isUsingCloneFor===e.draggableId&&!e.isClone?null:$.createElement(Du,e)}function Nu(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return $.createElement(qo,fe({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}const zo=e=>t=>e===t,Cu=zo("scroll"),Iu=zo("auto"),In=(e,t)=>t(e.overflowX)||t(e.overflowY),wu=e=>{const t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return In(r,Cu)||In(r,Iu)},ju=()=>!1,Yo=e=>e==null?null:e===document.body?ju()?e:null:e===document.documentElement?null:wu(e)?e:Yo(e.parentElement);var sr=(e=>({x:e.scrollLeft,y:e.scrollTop}));const Ko=e=>e?window.getComputedStyle(e).position==="fixed"?!0:Ko(e.parentElement):!1;var Eu=(e=>{const t=Yo(e),r=Ko(e);return{closestScrollable:t,isFixedOnPage:r}}),Pu=(({descriptor:e,isEnabled:t,isCombineEnabled:r,isFixedOnPage:n,direction:o,client:s,page:a,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:p,client:m}=l,h=wo({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:m,scrollSize:p,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:h,diff:{value:_,displacement:_}}}})(),d=o==="vertical"?pr:oo,f=Ce({page:a,withPlaceholder:null,axis:d,frame:c});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:n,axis:d,isEnabled:t,client:s,page:a,frame:c,subject:f}});const Au=(e,t)=>{const r=Kn(e);if(!t||e!==t)return r;const n=r.paddingBox.top-t.scrollTop,o=r.paddingBox.left-t.scrollLeft,s=n+t.scrollHeight,a=o+t.scrollWidth,c=lr({top:n,right:a,bottom:s,left:o},r.border);return cr({borderBox:c,margin:r.margin,border:r.border,padding:r.padding})};var Ru=(({ref:e,descriptor:t,env:r,windowScroll:n,direction:o,isDropDisabled:s,isCombineEnabled:a,shouldClipSubject:l})=>{const c=r.closestScrollable,d=Au(e,c),f=yt(d,n),u=(()=>{if(!c)return null;const m=Kn(c),h={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:m,page:yt(m,n),scroll:sr(c),scrollSize:h,shouldClipSubject:l}})();return Pu({descriptor:t,isEnabled:!s,isCombineEnabled:a,isFixedOnPage:r.isFixedOnPage,direction:o,client:d,page:f,closest:u})});const Ou={passive:!1},Bu={passive:!0};var wn=(e=>e.shouldPublishImmediately?Ou:Bu);const pt=e=>e&&e.env.closestScrollable||null;function Tu(e){const t=S.useRef(null),r=It(Ot),n=Ir("droppable"),{registry:o,marshal:s}=r,a=Mo(e),l=B(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=S.useRef(l),d=B(()=>k((j,y)=>{t.current||N();const E={x:j,y};s.updateDroppableScroll(l.id,E)}),[l.id,s]),f=P(()=>{const j=t.current;return!j||!j.env.closestScrollable?_:sr(j.env.closestScrollable)},[]),u=P(()=>{const j=f();d(j.x,j.y)},[f,d]),p=B(()=>Ue(u),[u]),m=P(()=>{const j=t.current,y=pt(j);if(j&&y||N(),j.scrollOptions.shouldPublishImmediately){u();return}p()},[p,u]),h=P((j,y)=>{t.current&&N();const E=a.current,R=E.getDroppableRef();R||N();const O=Eu(R),V={ref:R,descriptor:l,env:O,scrollOptions:y};t.current=V;const M=Ru({ref:R,descriptor:l,env:O,windowScroll:j,direction:E.direction,isDropDisabled:E.isDropDisabled,isCombineEnabled:E.isCombineEnabled,shouldClipSubject:!E.ignoreContainerClipping}),F=O.closestScrollable;return F&&(F.setAttribute(yn.contextId,r.contextId),F.addEventListener("scroll",m,wn(V.scrollOptions))),M},[r.contextId,l,m,a]),b=P(()=>{const j=t.current,y=pt(j);return j&&y||N(),sr(y)},[]),v=P(()=>{const j=t.current;j||N();const y=pt(j);t.current=null,y&&(p.cancel(),y.removeAttribute(yn.contextId),y.removeEventListener("scroll",m,wn(j.scrollOptions)))},[m,p]),C=P(j=>{const y=t.current;y||N();const E=pt(y);E||N(),E.scrollTop+=j.y,E.scrollLeft+=j.x},[]),I=B(()=>({getDimensionAndWatchScroll:h,getScrollWhileDragging:b,dragStopped:v,scroll:C}),[v,h,b,C]),w=B(()=>({uniqueId:n,descriptor:l,callbacks:I}),[I,l,n]);ee(()=>(c.current=w.descriptor,o.droppable.register(w),()=>{t.current&&v(),o.droppable.unregister(w)}),[I,l,v,w,s,o.droppable]),ee(()=>{t.current&&s.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,s]),ee(()=>{t.current&&s.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,s])}function Xt(){}const jn={width:0,height:0,margin:Ia},Lu=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>e||r==="close"?jn:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},Mu=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>{const n=Lu({isAnimatingOpenOnMount:e,placeholder:t,animate:r});return{display:t.display,boxSizing:"border-box",width:n.width,height:n.height,marginTop:n.margin.top,marginRight:n.margin.right,marginBottom:n.margin.bottom,marginLeft:n.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?_e.placeholder:null}},$u=e=>{const t=S.useRef(null),r=P(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:n,onTransitionEnd:o,onClose:s,contextId:a}=e,[l,c]=S.useState(e.animate==="open");S.useEffect(()=>l?n!=="open"?(r(),c(!1),Xt):t.current?Xt:(t.current=setTimeout(()=>{t.current=null,c(!1)}),r):Xt,[n,l,r]);const d=P(u=>{u.propertyName==="height"&&(o(),n==="close"&&s())},[n,s,o]),f=Mu({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return $.createElement(e.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":a,onTransitionEnd:d,ref:e.innerRef})};var Fu=$.memo($u);class Gu extends $.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,r){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const ku=e=>{const t=S.useContext(Ot);t||N();const{contextId:r,isMovementAllowed:n}=t,o=S.useRef(null),s=S.useRef(null),{children:a,droppableId:l,type:c,mode:d,direction:f,ignoreContainerClipping:u,isDropDisabled:p,isCombineEnabled:m,snapshot:h,useClone:b,updateViewportMaxScroll:v,getContainerForClone:C}=e,I=P(()=>o.current,[]),w=P((F=null)=>{o.current=F},[]);P(()=>s.current,[]);const j=P((F=null)=>{s.current=F},[]),y=P(()=>{n()&&v({maxScroll:Eo()})},[n,v]);Tu({droppableId:l,type:c,mode:d,direction:f,isDropDisabled:p,isCombineEnabled:m,ignoreContainerClipping:u,getDroppableRef:I});const E=B(()=>$.createElement(Gu,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:F,data:H,animate:X})=>$.createElement(Fu,{placeholder:H,onClose:F,innerRef:j,animate:X,contextId:r,onTransitionEnd:y})),[r,y,e.placeholder,e.shouldAnimatePlaceholder,j]),R=B(()=>({innerRef:w,placeholder:E,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":r}}),[r,l,E,w]),O=b?b.dragging.draggableId:null,V=B(()=>({droppableId:l,type:c,isUsingCloneFor:O}),[l,O,c]);function M(){if(!b)return null;const{dragging:F,render:H}=b,X=$.createElement(qo,{draggableId:F.draggableId,index:F.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Ae,q)=>H(Ae,q,F));return as.createPortal(X,C())}return $.createElement(jr.Provider,{value:V},a(R,h),M())};var _u=ku;function Wu(){return document.body||N(),document.body}const En={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Wu},Xo=e=>{let t={...e},r;for(r in En)e[r]===void 0&&(t={...t,[r]:En[r]});return t},Jt=(e,t)=>e===t.droppable.type,Pn=(e,t)=>t.draggables[e.draggable.id],Uu=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},r=k(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),n=k((s,a,l,c,d,f)=>{const u=d.descriptor.id;if(d.descriptor.droppableId===s){const h=f?{render:f,dragging:r(d.descriptor)}:null,b={isDraggingOver:l,draggingOverWith:l?u:null,draggingFromThisWith:u,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:b,useClone:h}}if(!a)return t;if(!c)return e;const m={isDraggingOver:l,draggingOverWith:u,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(s,a)=>{const l=Xo(a),c=l.droppableId,d=l.type,f=!l.isDropDisabled,u=l.renderClone;if(Ke(s)){const p=s.critical;if(!Jt(d,p))return t;const m=Pn(p,s.dimensions),h=Z(s.impact)===c;return n(c,f,h,h,m,u)}if(s.phase==="DROP_ANIMATING"){const p=s.completed;if(!Jt(d,p.critical))return t;const m=Pn(p.critical,s.dimensions);return n(c,f,Vo(p.result)===c,Z(p.impact)===c,m,u)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const p=s.completed;if(!Jt(d,p.critical))return t;const m=Z(p.impact)===c,h=!!(p.impact.at&&p.impact.at.type==="COMBINE"),b=p.critical.droppable.id===c;return m?h?e:t:b?e:t}return t}},Vu={updateViewportMaxScroll:Fi},Hu=qn(Uu,Vu,(e,t,r)=>({...Xo(r),...e,...t}),{context:Cr,areStatePropsEqual:Uo})(_u);var qu=Hu;function zu(e,t=[]){let r=[];function n(s,a){const l=S.createContext(a);l.displayName=s+"Context";const c=r.length;r=[...r,a];const d=u=>{const{scope:p,children:m,...h}=u,b=p?.[e]?.[c]||l,v=S.useMemo(()=>h,Object.values(h));return i.jsx(b.Provider,{value:v,children:m})};d.displayName=s+"Provider";function f(u,p){const m=p?.[e]?.[c]||l,h=S.useContext(m);if(h)return h;if(a!==void 0)return a;throw new Error(`\`${u}\` must be used within \`${s}\``)}return[d,f]}const o=()=>{const s=r.map(a=>S.createContext(a));return function(l){const c=l?.[e]||s;return S.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[n,Yu(o,...t)]}function Yu(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const a=n.reduce((l,{useScope:c,scopeName:d})=>{const u=c(s)[`__scope${d}`];return{...l,...u}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var Ku=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Jo=Ku.reduce((e,t)=>{const r=is(`Primitive.${t}`),n=S.forwardRef((o,s)=>{const{asChild:a,...l}=o,c=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Er="Progress",Pr=100,[Xu]=zu(Er),[Ju,Qu]=Xu(Er),Qo=S.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:o,getValueLabel:s=Zu,...a}=e;(o||o===0)&&!An(o)&&console.error(ed(`${o}`,"Progress"));const l=An(o)?o:Pr;n!==null&&!Rn(n,l)&&console.error(td(`${n}`,"Progress"));const c=Rn(n,l)?n:null,d=wt(c)?s(c,l):void 0;return i.jsx(Ju,{scope:r,value:c,max:l,children:i.jsx(Jo.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":wt(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":ts(c,l),"data-value":c??void 0,"data-max":l,...a,ref:t})})});Qo.displayName=Er;var Zo="ProgressIndicator",es=S.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,o=Qu(Zo,r);return i.jsx(Jo.div,{"data-state":ts(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...n,ref:t})});es.displayName=Zo;function Zu(e,t){return`${Math.round(e/t*100)}%`}function ts(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function wt(e){return typeof e=="number"}function An(e){return wt(e)&&!isNaN(e)&&e>0}function Rn(e,t){return wt(e)&&!isNaN(e)&&e<=t&&e>=0}function ed(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Pr}\`.`}function td(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Pr} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var rs=Qo,rd=es;const ns=S.forwardRef(({className:e,value:t,...r},n)=>i.jsx(rs,{ref:n,className:ls("relative h-2 w-full overflow-hidden rounded-full bg-muted",e),...r,children:i.jsx(rd,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));ns.displayName=rs.displayName;function nd({tasks:e,onUpdateTasks:t}){const[r,n]=S.useState(""),o=e.length>0?Math.round(e.filter(c=>c.isCompleted).length/e.length*100):0,s=()=>{if(!r.trim())return;const c={title:r.trim(),isCompleted:!1};t([...e,c]),n("")},a=c=>{const d=[...e];d[c].isCompleted=!d[c].isCompleted,t(d)},l=c=>{const d=e.filter((f,u)=>u!==c);t(d)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"rounded-lg border border-border/60 bg-card/70 p-4 shadow-sm",children:[i.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[i.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold",children:[i.jsx(Is,{className:"h-4 w-4 text-primary"}),"Progresso do Projeto"]}),i.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:[o,"% Concludo"]})]}),i.jsx(ns,{value:o,className:"h-2"})]}),i.jsxs("div",{className:"rounded-lg border border-border/60 bg-background/40",children:[i.jsxs("div",{className:"flex gap-2 border-b border-border/60 p-4",children:[i.jsx(L,{placeholder:"Adicionar nova etapa (ex: Configurar DNS)...",value:r,onChange:c=>n(c.target.value),onKeyDown:c=>c.key==="Enter"&&s()}),i.jsxs(K,{onClick:s,children:[i.jsx(xs,{className:"mr-2 h-4 w-4"})," Adicionar"]})]}),i.jsxs("div",{className:"divide-y divide-border/60",children:[e.length===0?i.jsx("div",{className:"p-8 text-center text-sm text-muted-foreground",children:"Nenhuma tarefa criada. Comece planejando o projeto acima."}):null,e.map((c,d)=>i.jsxs("div",{className:`flex items-center justify-between p-4 transition-colors hover:bg-muted/50 ${c.isCompleted?"bg-muted/30":""}`,children:[i.jsxs("div",{className:"flex flex-1 cursor-pointer items-center gap-3",onClick:()=>a(d),children:[c.isCompleted?i.jsx(Ln,{className:"h-5 w-5 text-emerald-500"}):i.jsx(Mn,{className:"h-5 w-5 text-muted-foreground"}),i.jsx("span",{className:`text-sm ${c.isCompleted?"line-through text-muted-foreground":"text-foreground"}`,children:c.title})]}),i.jsx(K,{variant:"ghost",size:"sm",onClick:()=>l(d),className:"text-muted-foreground hover:text-destructive",children:i.jsx(ys,{className:"h-4 w-4"})})]},c._id??`${c.title}-${d}`))]})]})]})}function $e(e){return Number.isNaN(e.getTime())?"-":e.toLocaleDateString("pt-BR")}function od({demand:e,contacts:t=[],tickets:r=[],onUpdateTasks:n,defaultTab:o="resumo"}){const s=[...e.followUps].sort((a,l)=>l.dueDate.getTime()-a.dueDate.getTime()).map(a=>({title:a.title,date:a.dueDate,owner:a.owner,status:a.status,notes:a.notes}));return i.jsxs(bs,{defaultValue:o,children:[i.jsxs(vs,{className:"flex flex-wrap",children:[i.jsx(de,{value:"resumo",children:"Resumo"}),i.jsx(de,{value:"comentarios",children:"Comentrios"}),i.jsx(de,{value:"contatos",children:"Contatos"}),i.jsx(de,{value:"dependencias",children:"Dependncias"}),i.jsx(de,{value:"financeiro",children:"Financeiro"}),i.jsx(de,{value:"evidencias",children:"Evidncias"}),i.jsx(de,{value:"plano",children:"Plano de execuo"}),i.jsx(de,{value:"tickets",children:"Chamados"})]}),i.jsx(pe,{value:"resumo",children:i.jsxs("div",{className:"grid gap-4",children:[i.jsx("div",{className:"rounded-lg border border-border/60 bg-background/40 p-4 text-sm text-muted-foreground",children:i.jsxs("div",{className:"grid gap-1",children:[i.jsxs("p",{children:["Patrocinador: ",e.sponsor]}),i.jsxs("p",{children:["Responsvel: ",e.responsible]}),i.jsxs("p",{children:["Categoria: ",e.category]}),i.jsxs("p",{children:["Prioridade: ",e.priority]}),i.jsxs("p",{children:["Impacto: ",e.impact]}),e.executiveSummary?i.jsxs("p",{children:["Resumo: ",e.executiveSummary]}):null,i.jsxs("p",{children:["Aprovador: ",e.approver??"No definido"]}),i.jsxs("p",{children:["Situao de aprovao: ",e.approvalStatus??"pendente"]}),e.approvalNotes?i.jsxs("p",{children:["Notas de aprovao: ",e.approvalNotes]}):null,e.approvalSlaDays?i.jsxs("p",{children:["SLA de aprovao: ",e.approvalSlaDays," dias"]}):null,i.jsxs("p",{children:["ltima atualizao: ",$e(e.lastUpdate)]})]})}),i.jsxs("div",{className:"grid gap-3",children:[i.jsx("p",{className:"text-sm font-semibold",children:"Workflow de aprovao"}),e.approvalStages&&e.approvalStages.length>0?e.approvalStages.map((a,l)=>i.jsxs("div",{className:"rounded-lg border border-border/60 bg-card/70 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("p",{className:"font-semibold",children:a.name}),i.jsx("span",{className:"text-xs text-muted-foreground",children:a.status})]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Responsvel: ",a.owner]}),a.slaDays?i.jsxs("p",{className:"text-xs text-muted-foreground",children:["SLA: ",a.slaDays," dias"]}):null]},`${a.name}-${l}`)):i.jsx("div",{className:"text-sm text-muted-foreground",children:"Sem etapas configuradas."})]}),i.jsxs("div",{className:"grid gap-3",children:[i.jsx("p",{className:"text-sm font-semibold",children:"Linha do tempo de follow-ups"}),s.length===0?i.jsx("div",{className:"text-sm text-muted-foreground",children:"Sem follow-ups registrados."}):null,s.map((a,l)=>i.jsxs("div",{className:"rounded-lg border border-border/60 bg-card/70 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("p",{className:"font-semibold",children:a.title}),i.jsx("span",{className:"text-xs text-muted-foreground",children:$e(a.date)})]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Responsvel: ",a.owner]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Status: ",a.status]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Notas: ",a.notes]})]},`${a.title}-${l}`))]})]})}),i.jsx(pe,{value:"comentarios",children:i.jsx("div",{className:"grid gap-3 text-sm text-muted-foreground",children:e.comments&&e.comments.length>0?e.comments.map((a,l)=>i.jsxs("div",{className:"rounded-lg border border-border/60 bg-card/70 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"font-semibold text-foreground",children:a.author}),i.jsx("span",{children:$e(a.at)})]}),i.jsx("p",{className:"mt-2 text-sm",children:a.message})]},`${a.author}-${a.at}-${l}`)):i.jsx("p",{children:"Sem comentrios registrados."})})}),i.jsx(pe,{value:"contatos",children:i.jsxs("div",{className:"grid gap-3 text-sm text-muted-foreground",children:[t.length===0?i.jsx("p",{children:"Sem contatos registrados."}):null,t.map(a=>i.jsxs("div",{className:"rounded-lg border border-border/60 bg-card/70 p-4",children:[i.jsx("p",{className:"text-xs",children:$e(a.at)}),i.jsx("p",{className:"text-sm font-semibold",children:a.channel}),i.jsx("p",{children:a.summary}),a.nextFollowUpAt?i.jsxs("p",{className:"text-xs",children:["Proximo: ",$e(a.nextFollowUpAt)]}):null]},a.id))]})}),i.jsx(pe,{value:"dependencias",children:i.jsx("div",{className:"grid gap-3 text-sm text-muted-foreground",children:e.dependencies?.length?e.dependencies.map((a,l)=>i.jsxs("div",{className:"rounded-lg border border-border/60 bg-card/70 p-4",children:[i.jsx("p",{className:"text-sm font-semibold",children:a.title}),i.jsxs("p",{children:["Tipo: ",a.kind]}),i.jsxs("p",{children:["Dono: ",a.owner]}),i.jsxs("p",{children:["Status: ",a.status]}),a.notes?i.jsxs("p",{children:["Notas: ",a.notes]}):null]},`${a.title}-${l}`)):i.jsx("p",{children:"Sem dependncias registradas."})})}),i.jsx(pe,{value:"financeiro",children:i.jsxs("div",{className:"rounded-lg border border-border/60 bg-background/40 p-4 text-sm text-muted-foreground",children:[i.jsxs("p",{children:["Financeiro mensal: R$ ",e.financialMonthly.toLocaleString("pt-BR")]}),i.jsxs("p",{children:["One-off: R$ ",e.financialOneOff.toLocaleString("pt-BR")]}),i.jsxs("p",{children:["Oramento: R$ ",e.budget.toLocaleString("pt-BR")]}),i.jsxs("p",{children:["Gasto: R$ ",e.spent.toLocaleString("pt-BR")]})]})}),i.jsx(pe,{value:"evidencias",children:i.jsx("div",{className:"grid gap-3 text-sm text-muted-foreground",children:e.evidenceLinks?.length?e.evidenceLinks.map((a,l)=>i.jsxs("div",{className:"rounded-lg border border-border/60 bg-card/70 p-3",children:[i.jsx("p",{className:"text-sm font-semibold",children:a.label}),i.jsx("p",{children:a.kind}),i.jsx("a",{className:"text-xs underline",href:a.url,target:"_blank",rel:"noreferrer",children:a.url})]},`${a.label}-${l}`)):i.jsx("p",{children:"Sem evidencias registradas."})})}),i.jsx(pe,{value:"tickets",children:i.jsxs("div",{className:"grid gap-3 text-sm text-muted-foreground",children:[r.length===0?i.jsx("p",{children:"Sem tickets vinculados."}):null,r.map(a=>i.jsxs("div",{className:"rounded-lg border border-border/60 bg-card/70 p-4",children:[i.jsx("p",{className:"text-sm font-semibold",children:a.subject}),i.jsxs("p",{children:["Status: ",a.status]}),i.jsxs("p",{children:["Sistema: ",a.system]})]},a.id))]})}),i.jsx(pe,{value:"plano",children:i.jsx(nd,{tasks:e.tasks??[],onUpdateTasks:a=>{n&&n(a)}})})]})}const sd={Backlog:{label:"Backlog",color:"bg-slate-100/70 border-slate-200/70 dark:bg-slate-900/40 dark:border-slate-800/60"},"Esta semana":{label:"Esta Semana",color:"bg-blue-50/70 border-blue-200/70 dark:bg-blue-900/20 dark:border-blue-800/40"},"Em execuo":{label:"Em Execuo",color:"bg-amber-50/70 border-amber-200/70 dark:bg-amber-900/20 dark:border-amber-800/40"},"Aguardando terceiros":{label:"Aguardando Terceiros",color:"bg-purple-50/70 border-purple-200/70 dark:bg-purple-900/20 dark:border-purple-800/40"},Concludo:{label:"Concludo",color:"bg-emerald-50/70 border-emerald-200/70 dark:bg-emerald-900/20 dark:border-emerald-800/40"}},Qt={P0:{label:"Urgente",className:"border-red-200/70 bg-red-100/70 text-red-700 dark:border-red-800/40 dark:bg-red-900/30 dark:text-red-200",icon:Ss},P1:{label:"Alta",className:"border-orange-200/70 bg-orange-100/70 text-orange-700 dark:border-orange-800/40 dark:bg-orange-900/30 dark:text-orange-200",icon:Ds},P2:{label:"Mdia",className:"border-blue-200/70 bg-blue-100/70 text-blue-700 dark:border-blue-800/40 dark:bg-blue-900/30 dark:text-blue-200",icon:Mn},P3:{label:"Baixa",className:"border-slate-200/70 bg-slate-100/70 text-slate-700 dark:border-slate-700/50 dark:bg-slate-800/40 dark:text-slate-200",icon:Ln}},Fe=[{label:"Projeto",value:"projeto"},{label:"Contrato",value:"contrato"},{label:"Custo",value:"custo"},{label:"Compra",value:"compra"},{label:"Implantao",value:"implantacao"}],Ge=[{label:"Aguardando terceiros",value:"Aguardando terceiros"},{label:"Backlog",value:"Backlog"},{label:"Esta semana",value:"Esta semana"},{label:"Em execuo",value:"Em execuo"},{label:"Concludo",value:"Concludo"},{label:"Cancelado",value:"Cancelado"}],ft=[{label:"Comunicado/Follow-up",value:"Comunicado/Follow-up"},{label:"Ao",value:"Ao"},{label:"Deciso",value:"Deciso"},{label:"Risco/Impedimento",value:"Risco/Impedimento"}],gt=[{label:"P0",value:"P0"},{label:"P1",value:"P1"},{label:"P2",value:"P2"},{label:"P3",value:"P3"}],mt=[{label:"Baixo",value:"Baixo"},{label:"Mdio",value:"Mdio"},{label:"Alto",value:"Alto"}],On=[{label:"Pendente",value:"pendente"},{label:"Aprovado",value:"aprovado"},{label:"Reprovado",value:"reprovado"}];function ht(){return new Date}function Bn(e,t){return e.trim()?e.split(",").map(r=>{const[n,o,s]=r.split("|").map(a=>a.trim());return{name:n||"Etapa",owner:o||t||"Time",status:"pendente",slaDays:s?Number(s):void 0}}):[]}function gd({demands:e,onCreate:t,onUpdate:r,onDelete:n,onAddComment:o}){const[s,a]=S.useState([]),[l,c]=S.useState(!1),[d,f]=S.useState(!1),[u,p]=S.useState(!1),[m,h]=S.useState(!1),[b,v]=S.useState(null),[C,I]=S.useState(null),[w,j]=S.useState(null),[y,E]=S.useState(null),[R,O]=S.useState(""),[V,M]=S.useState(""),[F,H]=S.useState(""),[X,Ae]=S.useState("all"),[q,Qe]=S.useState("all"),[ae,le]=S.useState("all"),[Ze,et]=S.useState("resumo"),[D,A]=S.useState({name:"",type:Fe[0].value,category:ft[0].value,status:Ge[0].value,priority:gt[2].value,impact:mt[1].value,epic:"Outros",sponsor:"No definido",responsible:"Alexandre Quevedo",approver:"",approvalStatus:"pendente",approvalNotes:"",approvalStages:"",approvalSlaDays:"0",financialMonthly:"0",financialOneOff:"0",executiveSummary:"",budget:"0",spent:"0",progress:"0",notes:""});S.useEffect(()=>{a(e)},[e]);const ce=S.useMemo(()=>[...s].filter(g=>{const x=g.name.toLowerCase().includes(F.toLowerCase())||g.id.toLowerCase().includes(F.toLowerCase()),W=X==="all"||g.status===X,ie=q==="all"||g.type===q,G=ae==="all"||g.priority===ae;return x&&W&&ie&&G}).sort((g,x)=>x.lastUpdate.getTime()-g.lastUpdate.getTime()),[s,F,X,q,ae]);async function tt(g){if(!g.destination)return;const{destination:x,draggableId:W,source:ie}=g;if(ie?.droppableId===x.droppableId&&ie?.index===x.index)return;const G=x.droppableId,nt=[...s];a(z=>z.map(ve=>ve.id===W?{...ve,status:G}:ve)),j(z=>z&&z.id===W?{...z,status:G}:z);const ue=await r(W,{status:G,lastUpdate:ht()});ue.ok||(a(nt),j(z=>z&&z.id===W?{...z,status:nt.find(ve=>ve.id===W)?.status??z.status}:z),v(ue.message??"Falha ao atualizar status."))}function Re(g){I(g.id),E(g),A({name:g.name,type:g.type,category:g.category,status:g.status,priority:g.priority,impact:g.impact,epic:g.epic,sponsor:g.sponsor,responsible:g.responsible,approver:g.approver??"",approvalStatus:g.approvalStatus??"pendente",approvalNotes:g.approvalNotes??"",approvalStages:g.approvalStages?g.approvalStages.map(x=>[x.name,x.owner,x.slaDays].filter(Boolean).join("|")).join(", "):"",approvalSlaDays:g.approvalSlaDays?String(g.approvalSlaDays):"0",financialMonthly:String(g.financialMonthly??0),financialOneOff:String(g.financialOneOff??0),executiveSummary:g.executiveSummary??"",budget:String(g.budget),spent:String(g.spent),progress:String(g.progress),notes:""}),M(""),f(!0)}function be(g,x){j(g),et(x),p(!0)}function rt(g){v(null),E(g),O(""),h(!0)}async function Tt(){v(null);const g={name:D.name,type:D.type,category:D.category,status:D.status,priority:D.priority,impact:D.impact,epic:D.epic,sponsor:D.sponsor,responsible:D.responsible,approver:D.approver,approvalStatus:D.approvalStatus,approvalNotes:D.approvalNotes,approvalSlaDays:Number(D.approvalSlaDays),financialMonthly:Number(D.financialMonthly),financialOneOff:Number(D.financialOneOff),executiveSummary:D.executiveSummary,notes:"",comments:D.notes?[{at:ht(),author:D.responsible||"Sistema",message:D.notes}]:[],approvalStages:Bn(D.approvalStages,D.approver),budget:Number(D.budget),spent:Number(D.spent),progress:Number(D.progress),lastUpdate:ht(),followUps:[],tasks:[]},x=await t(g);if(!x.ok){v(x.message??"Falha ao criar demanda.");return}c(!1),A({name:"",type:Fe[0].value,category:ft[0].value,status:Ge[0].value,priority:gt[2].value,impact:mt[1].value,epic:"Outros",sponsor:"No definido",responsible:"Alexandre Quevedo",approver:"",approvalStatus:"pendente",approvalNotes:"",approvalStages:"",approvalSlaDays:"0",financialMonthly:"0",financialOneOff:"0",executiveSummary:"",budget:"0",spent:"0",progress:"0",notes:""})}async function Ne(){if(!C)return;v(null);const g=await r(C,{name:D.name,type:D.type,category:D.category,status:D.status,priority:D.priority,impact:D.impact,epic:D.epic,sponsor:D.sponsor,responsible:D.responsible,approver:D.approver,approvalStatus:D.approvalStatus,approvalNotes:D.approvalNotes,approvalSlaDays:Number(D.approvalSlaDays),financialMonthly:Number(D.financialMonthly),financialOneOff:Number(D.financialOneOff),executiveSummary:D.executiveSummary,approvalStages:Bn(D.approvalStages,D.approver),budget:Number(D.budget),spent:Number(D.spent),progress:Number(D.progress),lastUpdate:ht()});if(!g.ok){v(g.message??"Falha ao atualizar demanda.");return}f(!1),I(null)}async function Oe(){if(!y)return;if(!R.trim()){v("Informe o motivo da excluso.");return}v(null);const g=await n(y.id,R.trim());if(!g.ok){v(g.message??"Falha ao excluir demanda.");return}f(!1),h(!1),O(""),E(null)}async function Ar(){if(!C)return;if(!V.trim()){v("Escreva um comentrio antes de salvar.");return}v(null);const g=await o(C,V.trim());if(!g.ok){v(g.message??"Falha ao registrar comentrio.");return}M("")}return i.jsxs(Rr,{className:"bg-card/70",children:[i.jsxs(Or,{children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx(Br,{children:"Portfolio de Demandas"}),i.jsx(cs,{children:"Projetos, contratos, custos, compras e implantaes."})]}),i.jsxs(ot,{open:l,onOpenChange:c,children:[i.jsx(us,{asChild:!0,children:i.jsx(K,{children:"Nova demanda"})}),i.jsxs(st,{className:"max-w-3xl",children:[i.jsxs(at,{children:[i.jsx(it,{children:"Nova demanda"}),i.jsx(lt,{children:"Cadastre projetos e contratos com foco em follow-ups."})]}),i.jsxs("div",{className:"grid max-h-[70vh] gap-3 overflow-y-auto pr-1 text-sm",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Nome *"}),i.jsx(L,{value:D.name,onChange:g=>A(x=>({...x,name:g.target.value})),placeholder:"Modernizacao do datacenter",required:!0})]}),i.jsxs("div",{className:"grid gap-2 lg:grid-cols-2",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Categoria"}),i.jsx("select",{className:"h-10 rounded-md border border-input bg-transparent px-3 text-sm",value:D.category,onChange:g=>A(x=>({...x,category:g.target.value})),children:ft.map(g=>i.jsx("option",{value:g.value,children:g.label},g.value))})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Prioridade"}),i.jsx("select",{className:"h-10 rounded-md border border-input bg-transparent px-3 text-sm",value:D.priority,onChange:g=>A(x=>({...x,priority:g.target.value})),children:gt.map(g=>i.jsx("option",{value:g.value,children:g.label},g.value))})]})]}),i.jsxs("div",{className:"grid gap-2 lg:grid-cols-2",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Impacto"}),i.jsx("select",{className:"h-10 rounded-md border border-input bg-transparent px-3 text-sm",value:D.impact,onChange:g=>A(x=>({...x,impact:g.target.value})),children:mt.map(g=>i.jsx("option",{value:g.value,children:g.label},g.value))})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"pico"}),i.jsx(L,{value:D.epic,onChange:g=>A(x=>({...x,epic:g.target.value})),placeholder:"Sankhya"})]})]}),i.jsxs("div",{className:"grid gap-2 lg:grid-cols-2",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Responsvel"}),i.jsx(L,{value:D.responsible,onChange:g=>A(x=>({...x,responsible:g.target.value})),placeholder:"Alexandre Quevedo"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Patrocinador *"}),i.jsx(L,{value:D.sponsor,onChange:g=>A(x=>({...x,sponsor:g.target.value})),placeholder:"Diretoria de TI",required:!0})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Aprovador"}),i.jsx(L,{value:D.approver,onChange:g=>A(x=>({...x,approver:g.target.value})),placeholder:"Nome do aprovador"})]}),i.jsxs("div",{className:"grid gap-2 lg:grid-cols-2",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Tipo *"}),i.jsx("select",{className:"h-10 rounded-md border border-input bg-transparent px-3 text-sm",value:D.type,onChange:g=>A(x=>({...x,type:g.target.value})),required:!0,children:Fe.map(g=>i.jsx("option",{value:g.value,children:g.label},g.value))})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Situao"}),i.jsx("select",{className:"h-10 rounded-md border border-input bg-transparent px-3 text-sm",value:D.status,onChange:g=>A(x=>({...x,status:g.target.value})),children:Ge.map(g=>i.jsx("option",{value:g.value,children:g.label},g.value))})]})]}),i.jsxs("div",{className:"grid gap-2 lg:grid-cols-3",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Oramento *"}),i.jsx(L,{type:"number",value:D.budget,onChange:g=>A(x=>({...x,budget:g.target.value})),required:!0})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Gasto *"}),i.jsx(L,{type:"number",value:D.spent,onChange:g=>A(x=>({...x,spent:g.target.value})),required:!0})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Progresso (%) *"}),i.jsx(L,{type:"number",value:D.progress,onChange:g=>A(x=>({...x,progress:g.target.value})),required:!0})]})]}),i.jsxs("div",{className:"grid gap-2 lg:grid-cols-2",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Resumo executivo"}),i.jsx(ct,{value:D.executiveSummary,onChange:g=>A(x=>({...x,executiveSummary:g.target.value})),placeholder:"Resumo curto para alta gesto"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Comentrio inicial"}),i.jsx(ct,{value:D.notes,onChange:g=>A(x=>({...x,notes:g.target.value})),placeholder:"Contexto inicial para a demanda"})]})]}),b?i.jsx("p",{className:"text-sm text-destructive",children:b}):null,i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(K,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),i.jsx(K,{onClick:Tt,children:"Salvar"})]})]})]})]})]}),i.jsxs("div",{className:"mt-4 grid gap-3 text-sm lg:grid-cols-3",children:[i.jsx(L,{value:F,onChange:g=>H(g.target.value),placeholder:"Buscar por nome ou ID"}),i.jsxs("select",{className:"h-10 rounded-md border border-input bg-transparent px-3 text-sm",value:X,onChange:g=>Ae(g.target.value),children:[i.jsx("option",{value:"all",children:"Todas as situaes"}),Ge.map(g=>i.jsx("option",{value:g.value,children:g.label},g.value))]}),i.jsxs("select",{className:"h-10 rounded-md border border-input bg-transparent px-3 text-sm",value:q,onChange:g=>Qe(g.target.value),children:[i.jsx("option",{value:"all",children:"Todos os tipos"}),Fe.map(g=>i.jsx("option",{value:g.value,children:g.label},g.value))]})]}),i.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[i.jsx(Cs,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Prioridade:"}),["P0","P1","P2","P3"].map(g=>{const W=Qt[g].icon;return i.jsxs(K,{size:"sm",variant:ae===g?"default":"outline",onClick:()=>le(ae===g?"all":g),className:"h-7 gap-1 text-xs",children:[i.jsx(W,{className:"h-3.5 w-3.5"}),g]},g)}),ae!=="all"?i.jsx(K,{variant:"ghost",size:"sm",className:"h-7 text-xs text-muted-foreground",onClick:()=>le("all"),children:"Limpar"}):null]}),i.jsx(ot,{open:d,onOpenChange:f,children:i.jsxs(st,{className:"max-w-3xl",children:[i.jsxs(at,{children:[i.jsx(it,{children:"Editar demanda"}),i.jsx(lt,{children:"Atualize os dados principais da demanda."})]}),i.jsxs("div",{className:"grid max-h-[70vh] gap-3 overflow-y-auto pr-1 text-sm",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Nome *"}),i.jsx(L,{value:D.name,onChange:g=>A(x=>({...x,name:g.target.value})),required:!0})]}),i.jsxs("div",{className:"grid gap-2 lg:grid-cols-2",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Categoria"}),i.jsx("select",{className:"h-10 rounded-md border border-input bg-transparent px-3 text-sm",value:D.category,onChange:g=>A(x=>({...x,category:g.target.value})),children:ft.map(g=>i.jsx("option",{value:g.value,children:g.label},g.value))})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Prioridade"}),i.jsx("select",{className:"h-10 rounded-md border border-input bg-transparent px-3 text-sm",value:D.priority,onChange:g=>A(x=>({...x,priority:g.target.value})),children:gt.map(g=>i.jsx("option",{value:g.value,children:g.label},g.value))})]})]}),i.jsxs("div",{className:"grid gap-2 lg:grid-cols-2",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Impacto"}),i.jsx("select",{className:"h-10 rounded-md border border-input bg-transparent px-3 text-sm",value:D.impact,onChange:g=>A(x=>({...x,impact:g.target.value})),children:mt.map(g=>i.jsx("option",{value:g.value,children:g.label},g.value))})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"pico"}),i.jsx(L,{value:D.epic,onChange:g=>A(x=>({...x,epic:g.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Patrocinador *"}),i.jsx(L,{value:D.sponsor,onChange:g=>A(x=>({...x,sponsor:g.target.value})),required:!0})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Responsavel"}),i.jsx(L,{value:D.responsible,onChange:g=>A(x=>({...x,responsible:g.target.value}))})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Aprovador"}),i.jsx(L,{value:D.approver,onChange:g=>A(x=>({...x,approver:g.target.value}))})]}),i.jsxs("div",{className:"grid gap-2 lg:grid-cols-2",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Tipo *"}),i.jsx("select",{className:"h-10 rounded-md border border-input bg-transparent px-3 text-sm",value:D.type,onChange:g=>A(x=>({...x,type:g.target.value})),required:!0,children:Fe.map(g=>i.jsx("option",{value:g.value,children:g.label},g.value))})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Situao"}),i.jsx("select",{className:"h-10 rounded-md border border-input bg-transparent px-3 text-sm",value:D.status,onChange:g=>A(x=>({...x,status:g.target.value})),children:Ge.map(g=>i.jsx("option",{value:g.value,children:g.label},g.value))})]})]}),i.jsxs("div",{className:"grid gap-2 lg:grid-cols-2",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Situao de aprovao"}),i.jsx("select",{className:"h-10 rounded-md border border-input bg-transparent px-3 text-sm",value:D.approvalStatus,onChange:g=>A(x=>({...x,approvalStatus:g.target.value})),children:On.map(g=>i.jsx("option",{value:g.value,children:g.label},g.value))})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Notas de aprovao"}),i.jsx(L,{value:D.approvalNotes,onChange:g=>A(x=>({...x,approvalNotes:g.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-2 lg:grid-cols-2",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Financeiro mensal (R$/mes)"}),i.jsx(L,{type:"number",value:D.financialMonthly,onChange:g=>A(x=>({...x,financialMonthly:g.target.value}))})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Financeiro one-off (R$)"}),i.jsx(L,{type:"number",value:D.financialOneOff,onChange:g=>A(x=>({...x,financialOneOff:g.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Resumo executivo"}),i.jsx(L,{value:D.executiveSummary,onChange:g=>A(x=>({...x,executiveSummary:g.target.value})),placeholder:"Resumo curto para alta gesto"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Comentrios"}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(ct,{value:V,onChange:g=>M(g.target.value),placeholder:"Escreva um comentrio e clique em adicionar."}),i.jsx("div",{className:"flex justify-end",children:i.jsx(K,{variant:"outline",size:"sm",onClick:Ar,children:"Adicionar comentrio"})})]}),C?i.jsx("div",{className:"grid gap-2",children:(e.find(g=>g.id===C)?.comments??[]).length===0?i.jsx("p",{className:"text-xs text-muted-foreground",children:"Sem comentrios registrados."}):(e.find(g=>g.id===C)?.comments??[]).map((g,x)=>i.jsxs("div",{className:"rounded-md border border-border/60 bg-background/40 p-3 text-xs text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium text-foreground",children:g.author}),i.jsx("span",{children:g.at.toLocaleString("pt-BR")})]}),i.jsx("p",{className:"mt-1",children:g.message})]},`${g.author}-${g.at}-${x}`))}):null]}),i.jsxs("div",{className:"grid gap-2 lg:grid-cols-2",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Etapas (separadas por virgula)"}),i.jsx(L,{value:D.approvalStages,onChange:g=>A(x=>({...x,approvalStages:g.target.value})),placeholder:"Comite Tecnico|Marina|3, Financeiro|Fernanda|4"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"SLA total (dias)"}),i.jsx(L,{type:"number",value:D.approvalSlaDays,onChange:g=>A(x=>({...x,approvalSlaDays:g.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-2 lg:grid-cols-2",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Situao de aprovao"}),i.jsx("select",{className:"h-10 rounded-md border border-input bg-transparent px-3 text-sm",value:D.approvalStatus,onChange:g=>A(x=>({...x,approvalStatus:g.target.value})),children:On.map(g=>i.jsx("option",{value:g.value,children:g.label},g.value))})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Notas de aprovao"}),i.jsx(L,{value:D.approvalNotes,onChange:g=>A(x=>({...x,approvalNotes:g.target.value})),placeholder:"Observacoes da aprovacao"})]})]}),i.jsxs("div",{className:"grid gap-2 lg:grid-cols-2",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Financeiro mensal (R$/mes)"}),i.jsx(L,{type:"number",value:D.financialMonthly,onChange:g=>A(x=>({...x,financialMonthly:g.target.value}))})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Financeiro one-off (R$)"}),i.jsx(L,{type:"number",value:D.financialOneOff,onChange:g=>A(x=>({...x,financialOneOff:g.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Resumo executivo"}),i.jsx(L,{value:D.executiveSummary,onChange:g=>A(x=>({...x,executiveSummary:g.target.value}))})]}),i.jsxs("div",{className:"grid gap-2 lg:grid-cols-2",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Etapas (separadas por virgula)"}),i.jsx(L,{value:D.approvalStages,onChange:g=>A(x=>({...x,approvalStages:g.target.value})),placeholder:"Comite Tecnico|Marina|3, Financeiro|Fernanda|4"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"SLA total (dias)"}),i.jsx(L,{type:"number",value:D.approvalSlaDays,onChange:g=>A(x=>({...x,approvalSlaDays:g.target.value}))})]})]}),i.jsxs("div",{className:"grid gap-2 lg:grid-cols-3",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Oramento *"}),i.jsx(L,{type:"number",value:D.budget,onChange:g=>A(x=>({...x,budget:g.target.value})),required:!0})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Gasto *"}),i.jsx(L,{type:"number",value:D.spent,onChange:g=>A(x=>({...x,spent:g.target.value})),required:!0})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{className:"font-medium",children:"Progresso (%) *"}),i.jsx(L,{type:"number",value:D.progress,onChange:g=>A(x=>({...x,progress:g.target.value})),required:!0})]})]}),b?i.jsx("p",{className:"text-sm text-destructive",children:b}):null,i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(K,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),i.jsx(K,{variant:"outline",className:"border-destructive text-destructive hover:bg-destructive/10",onClick:()=>{if(!C)return;const g=e.find(x=>x.id===C)??null;g&&(v(null),E(g),O(""),h(!0))},children:"Excluir"}),i.jsx(K,{onClick:Ne,children:"Salvar alteraes"})]})]})]})}),i.jsx(ot,{open:u,onOpenChange:p,children:i.jsxs(st,{children:[i.jsxs(at,{children:[i.jsx(it,{children:"Detalhes da demanda"}),i.jsx(lt,{children:"Resumo e linha do tempo."})]}),w?i.jsx(od,{demand:w,defaultTab:Ze,onUpdateTasks:async g=>{const x=await r(w.id,{tasks:g});if(!x.ok){v(x.message??"Falha ao atualizar tarefas.");return}j(W=>W&&{...W,tasks:g})}}):null]})}),i.jsx(ot,{open:m,onOpenChange:h,children:i.jsxs(st,{className:"max-w-lg",children:[i.jsxs(at,{children:[i.jsx(it,{children:"Excluir demanda"}),i.jsx(lt,{children:"Esta ao remove a demanda da lista ativa e exige um motivo para auditoria."})]}),i.jsxs("div",{className:"grid gap-2 text-sm",children:[i.jsx("label",{className:"font-medium",children:"Motivo da excluso"}),i.jsx(ct,{value:R,onChange:g=>O(g.target.value),placeholder:"Ex.: Demanda cancelada pelo patrocinador."}),b?i.jsx("p",{className:"text-sm text-destructive",children:b}):null,i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(K,{variant:"outline",onClick:()=>h(!1),children:"Cancelar"}),i.jsx(K,{variant:"outline",className:"border-destructive text-destructive hover:bg-destructive/10",disabled:!R.trim(),onClick:Oe,children:"Excluir"})]})]})]})})]}),i.jsxs(Tr,{className:"space-y-4",children:[ce.length===0?i.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhuma demanda cadastrada ainda."}):null,i.jsx(ru,{onDragEnd:tt,children:i.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:Object.entries(sd).map(([g,x])=>{const W=ce.filter(ie=>ie.status===g);return i.jsx(qu,{droppableId:g,children:ie=>i.jsxs("div",{ref:ie.innerRef,...ie.droppableProps,className:`min-w-[320px] max-w-[360px] flex-1 rounded-xl border ${x.color} p-3`,children:[i.jsxs("div",{className:"mb-3 flex items-center justify-between px-1",children:[i.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-muted-foreground",children:x.label}),i.jsx(Lr,{variant:"outline",className:"bg-background",children:W.length})]}),i.jsxs("div",{className:"space-y-3",children:[W.map((G,nt)=>{const ue=G.tasks?.length??0,z=G.tasks?.filter(Be=>Be.isCompleted).length??0,ve=ue>0?Math.round(z/ue*100):G.progress??0;return i.jsx(Nu,{draggableId:G.id,index:nt,children:Be=>i.jsxs(Rr,{ref:Be.innerRef,...Be.draggableProps,...Be.dragHandleProps,className:"group cursor-grab transition-all hover:shadow-md active:cursor-grabbing",onClick:()=>{be(G,"resumo")},children:[i.jsxs(Or,{className:"p-3 pb-0",children:[i.jsxs("div",{className:"mb-2 flex items-start justify-between gap-2",children:[(()=>{const te=Qt[G.priority]??Qt.P3,os=te.icon;return i.jsxs(Lr,{variant:"outline",className:`gap-1 border px-2 py-0.5 text-[10px] ${te.className}`,children:[i.jsx(os,{className:"h-3 w-3"}),G.priority]})})(),ue>0?i.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:[i.jsx(ws,{className:"h-3 w-3"}),z,"/",ue]}):null]}),i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsx(Br,{className:"text-sm font-medium leading-tight",children:G.name}),i.jsxs("div",{className:"flex items-center gap-1 opacity-0 transition group-hover:opacity-100",children:[i.jsx(K,{size:"icon",variant:"ghost",className:"h-7 w-7",onClick:te=>{te.stopPropagation(),be(G,"plano")},children:i.jsx(ds,{className:"h-4 w-4"})}),i.jsxs(ps,{children:[i.jsx(fs,{asChild:!0,children:i.jsx(K,{size:"icon",variant:"ghost",className:"h-7 w-7",onClick:te=>te.stopPropagation(),children:i.jsx(Ns,{className:"h-4 w-4"})})}),i.jsxs(gs,{align:"end",children:[i.jsx(Lt,{onClick:te=>{te.stopPropagation(),be(G,"resumo")},children:"Detalhes"}),i.jsx(Lt,{onClick:te=>{te.stopPropagation(),Re(G)},children:"Editar"}),i.jsx(Lt,{className:"text-destructive focus:text-destructive",onClick:te=>{te.stopPropagation(),rt(G)},children:"Excluir"})]})]})]})]})]}),i.jsxs(Tr,{className:"p-3 pt-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:G.type.replace("-"," ")}),i.jsx("span",{children:G.lastUpdate.toLocaleDateString("pt-BR")})]}),ue>0?i.jsx("div",{className:"mt-2 h-1.5 w-full overflow-hidden rounded-full bg-slate-100",children:i.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${ve}%`}})}):null]})]})},G.id)}),ie.placeholder,W.length===0?i.jsx("div",{className:"rounded-lg border border-dashed border-border/60 bg-background/40 p-4 text-xs text-muted-foreground",children:"Sem demandas neste status."}):null]})]})},g)})})})]})]})}export{gd as DemandBoard};
